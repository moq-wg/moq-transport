<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Media over QUIC Transport</title>
<meta content="Luke Curley" name="author">
<meta content="Kirill Pugin" name="author">
<meta content="Suhas Nandakumar" name="author">
<meta content="Victor Vasiliev" name="author">
<meta content="Ian Swett" name="author">
<meta content="
       This document defines the core behavior for Media over QUIC Transport
(MOQT), a media transport protocol designed to operate over QUIC and
WebTransport, which have similar functionality. MOQT allows a producer of
media to publish data and have it consumed via subscription by a
multiplicity of endpoints. It supports intermediate content distribution
networks and is designed for high scale and low latency distribution. 
    " name="description">
<meta content="xml2rfc 3.22.0" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-ietf-moq-transport-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.22.0
    Python 3.12.3
    ConfigArgParse 1.7
    google-i18n-address 3.1.0
    intervaltree 3.1.0
    Jinja2 3.1.4
    lxml 4.9.4
    platformdirs 4.2.2
    pycountry 22.3.5
    PyYAML 6.0.1
    requests 2.32.3
    setuptools 69.5.1
    wcwidth 0.2.13
-->
<link href="draft-ietf-moq-transport.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
}
:is(ol, ul) :is(ol, ul) {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  line-height: 1;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
}
dl.olPercent {
  --indent: 5ch;
}
dl > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl.dlNewline > dt {
  float: none;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
dl.olPercent > dt {
  min-width: calc(var(--indent) - 2ch);
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:first-child, .break:first-child + *) {
  margin-top: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:last-child) {
  margin-bottom: 0;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0;
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    overflow-x: auto;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
}
a.pilcrow[href] { color: var(--pilcrow-weak); }
a.pilcrow[href]:hover { text-decoration: none; }
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
}
#identifiers dt {
  width: var(--identifier-width);
  min-width: var(--identifier-width);
  clear: left;
  float: left;
  text-align: right;
  margin-right: 1ch;
}
#identifiers dd {
  margin: 0;
  margin-left: calc(1em + var(--identifier-width)) !important;
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 2px 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 10ch;
  margin-right: 1.5ch;
}
.references dt:target::before {
  content: "⇒";
  width: 15px;
  margin: 0 10px 0 -25px;
}
.references dd {
  margin-left: 12ch !important;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul :is(p, li) {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
  .toplink {
    display: none;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Provide styling for table cell text alignment */
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">moq-transport</td>
<td class="right">July 2024</td>
</tr></thead>
<tfoot><tr>
<td class="left">Curley, et al.</td>
<td class="center">Expires 27 January 2025</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">MOQ</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-moq-transport-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2024-07-26" class="published">26 July 2024</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2025-01-27">27 January 2025</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">L. Curley</div>
<div class="org">Discord</div>
</div>
<div class="author">
      <div class="author-name">K. Pugin</div>
<div class="org">Meta</div>
</div>
<div class="author">
      <div class="author-name">S. Nandakumar</div>
<div class="org">Cisco</div>
</div>
<div class="author">
      <div class="author-name">V. Vasiliev</div>
<div class="org">Google</div>
</div>
<div class="author">
      <div class="author-name">I. Swett, <span class="editor">Ed.</span>
</div>
<div class="org">Google</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Media over QUIC Transport</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document defines the core behavior for Media over QUIC Transport
(MOQT), a media transport protocol designed to operate over QUIC and
WebTransport, which have similar functionality. MOQT allows a producer of
media to publish data and have it consumed via subscription by a
multiplicity of endpoints. It supports intermediate content distribution
networks and is designed for high scale and low latency distribution.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-discussion-venues">
<a href="#name-discussion-venues" class="section-name selfRef">Discussion Venues</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">Discussion of this document takes place on the
    Media Over QUIC Working Group mailing list (moq@ietf.org),
    which is archived at <span><a href="https://mailarchive.ietf.org/arch/browse/moq/">https://mailarchive.ietf.org/arch/browse/moq/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">Source for this draft and an issue tracker can be found at
    <span><a href="https://github.com/moq-wg/moq-transport">https://github.com/moq-wg/moq-transport</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 27 January 2025.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2024 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1"><a href="#section-1.1" class="auto internal xref">1.1</a>.  <a href="#name-motivation" class="internal xref">Motivation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1.2.1">
                    <p id="section-toc.1-1.1.2.1.2.1.1" class="keepWithNext"><a href="#section-1.1.1" class="auto internal xref">1.1.1</a>.  <a href="#name-latency" class="internal xref">Latency</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1.2.2">
                    <p id="section-toc.1-1.1.2.1.2.2.1" class="keepWithNext"><a href="#section-1.1.2" class="auto internal xref">1.1.2</a>.  <a href="#name-leveraging-quic" class="internal xref">Leveraging QUIC</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1.2.3">
                    <p id="section-toc.1-1.1.2.1.2.3.1" class="keepWithNext"><a href="#section-1.1.3" class="auto internal xref">1.1.3</a>.  <a href="#name-universal" class="internal xref">Universal</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1.2.4">
                    <p id="section-toc.1-1.1.2.1.2.4.1"><a href="#section-1.1.4" class="auto internal xref">1.1.4</a>.  <a href="#name-relays" class="internal xref">Relays</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1"><a href="#section-1.2" class="auto internal xref">1.2</a>.  <a href="#name-terms-and-definitions" class="internal xref">Terms and Definitions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.3">
                <p id="section-toc.1-1.1.2.3.1"><a href="#section-1.3" class="auto internal xref">1.3</a>.  <a href="#name-notational-conventions" class="internal xref">Notational Conventions</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-object-model" class="internal xref">Object Model</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-objects" class="internal xref">Objects</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="auto internal xref">2.2</a>.  <a href="#name-groups" class="internal xref">Groups</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="auto internal xref">2.3</a>.  <a href="#name-track" class="internal xref">Track</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.1">
                    <p id="section-toc.1-1.2.2.3.2.1.1"><a href="#section-2.3.1" class="auto internal xref">2.3.1</a>.  <a href="#name-track-naming-and-scopes" class="internal xref">Track Naming and Scopes</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.2">
                    <p id="section-toc.1-1.2.2.3.2.2.1"><a href="#section-2.3.2" class="auto internal xref">2.3.2</a>.  <a href="#name-connection-url" class="internal xref">Connection URL</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-sessions" class="internal xref">Sessions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-session-establishment" class="internal xref">Session establishment</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.1">
                    <p id="section-toc.1-1.3.2.1.2.1.1"><a href="#section-3.1.1" class="auto internal xref">3.1.1</a>.  <a href="#name-webtransport" class="internal xref">WebTransport</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.2">
                    <p id="section-toc.1-1.3.2.1.2.2.1"><a href="#section-3.1.2" class="auto internal xref">3.1.2</a>.  <a href="#name-quic" class="internal xref">QUIC</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-version-and-extension-negot" class="internal xref">Version and Extension Negotiation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-session-initialization" class="internal xref">Session initialization</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="auto internal xref">3.4</a>.  <a href="#name-stream-cancellation" class="internal xref">Stream Cancellation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a href="#section-3.5" class="auto internal xref">3.5</a>.  <a href="#name-termination" class="internal xref">Termination</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.6">
                <p id="section-toc.1-1.3.2.6.1"><a href="#section-3.6" class="auto internal xref">3.6</a>.  <a href="#name-migration" class="internal xref">Migration</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-priorities" class="internal xref">Priorities</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-relays-2" class="internal xref">Relays</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-subscriber-interactions" class="internal xref">Subscriber Interactions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-publisher-interactions" class="internal xref">Publisher Interactions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="auto internal xref">5.3</a>.  <a href="#name-relay-object-handling" class="internal xref">Relay Object Handling</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-messages" class="internal xref">Messages</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-parameters" class="internal xref">Parameters</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1.2.1">
                    <p id="section-toc.1-1.6.2.1.2.1.1"><a href="#section-6.1.1" class="auto internal xref">6.1.1</a>.  <a href="#name-version-specific-parameters" class="internal xref">Version Specific Parameters</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-client_setup-and-server_set" class="internal xref">CLIENT_SETUP and SERVER_SETUP</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.1">
                    <p id="section-toc.1-1.6.2.2.2.1.1"><a href="#section-6.2.1" class="auto internal xref">6.2.1</a>.  <a href="#name-versions" class="internal xref">Versions</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.2">
                    <p id="section-toc.1-1.6.2.2.2.2.1"><a href="#section-6.2.2" class="auto internal xref">6.2.2</a>.  <a href="#name-setup-parameters" class="internal xref">Setup Parameters</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="auto internal xref">6.3</a>.  <a href="#name-goaway" class="internal xref">GOAWAY</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="auto internal xref">6.4</a>.  <a href="#name-subscribe" class="internal xref">SUBSCRIBE</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4.2.1">
                    <p id="section-toc.1-1.6.2.4.2.1.1"><a href="#section-6.4.1" class="auto internal xref">6.4.1</a>.  <a href="#name-filter-types" class="internal xref">Filter Types</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4.2.2">
                    <p id="section-toc.1-1.6.2.4.2.2.1"><a href="#section-6.4.2" class="auto internal xref">6.4.2</a>.  <a href="#name-subscribe-format" class="internal xref">SUBSCRIBE Format</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5">
                <p id="section-toc.1-1.6.2.5.1"><a href="#section-6.5" class="auto internal xref">6.5</a>.  <a href="#name-subscribe_update" class="internal xref">SUBSCRIBE_UPDATE</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.6">
                <p id="section-toc.1-1.6.2.6.1"><a href="#section-6.6" class="auto internal xref">6.6</a>.  <a href="#name-unsubscribe" class="internal xref">UNSUBSCRIBE</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.7">
                <p id="section-toc.1-1.6.2.7.1"><a href="#section-6.7" class="auto internal xref">6.7</a>.  <a href="#name-announce_ok" class="internal xref">ANNOUNCE_OK</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.8">
                <p id="section-toc.1-1.6.2.8.1"><a href="#section-6.8" class="auto internal xref">6.8</a>.  <a href="#name-announce_error" class="internal xref">ANNOUNCE_ERROR</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.9">
                <p id="section-toc.1-1.6.2.9.1"><a href="#section-6.9" class="auto internal xref">6.9</a>.  <a href="#name-announce_cancel" class="internal xref">ANNOUNCE_CANCEL</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.10">
                <p id="section-toc.1-1.6.2.10.1"><a href="#section-6.10" class="auto internal xref">6.10</a>. <a href="#name-track_status_request" class="internal xref">TRACK_STATUS_REQUEST</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.11">
                <p id="section-toc.1-1.6.2.11.1"><a href="#section-6.11" class="auto internal xref">6.11</a>. <a href="#name-object" class="internal xref">OBJECT</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.11.2.1">
                    <p id="section-toc.1-1.6.2.11.2.1.1"><a href="#section-6.11.1" class="auto internal xref">6.11.1</a>.  <a href="#name-canonical-object-fields" class="internal xref">Canonical Object Fields</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.11.2.2">
                    <p id="section-toc.1-1.6.2.11.2.2.1"><a href="#section-6.11.2" class="auto internal xref">6.11.2</a>.  <a href="#name-object-message-formats" class="internal xref">Object Message Formats</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.11.2.3">
                    <p id="section-toc.1-1.6.2.11.2.3.1"><a href="#section-6.11.3" class="auto internal xref">6.11.3</a>.  <a href="#name-multi-object-streams" class="internal xref">Multi-Object Streams</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.11.2.4">
                    <p id="section-toc.1-1.6.2.11.2.4.1"><a href="#section-6.11.4" class="auto internal xref">6.11.4</a>.  <a href="#name-examples" class="internal xref">Examples:</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.12">
                <p id="section-toc.1-1.6.2.12.1"><a href="#section-6.12" class="auto internal xref">6.12</a>. <a href="#name-subscribe_ok" class="internal xref">SUBSCRIBE_OK</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.13">
                <p id="section-toc.1-1.6.2.13.1"><a href="#section-6.13" class="auto internal xref">6.13</a>. <a href="#name-subscribe_error" class="internal xref">SUBSCRIBE_ERROR</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.14">
                <p id="section-toc.1-1.6.2.14.1"><a href="#section-6.14" class="auto internal xref">6.14</a>. <a href="#name-subscribe_done" class="internal xref">SUBSCRIBE_DONE</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.15">
                <p id="section-toc.1-1.6.2.15.1"><a href="#section-6.15" class="auto internal xref">6.15</a>. <a href="#name-announce" class="internal xref">ANNOUNCE</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.16">
                <p id="section-toc.1-1.6.2.16.1"><a href="#section-6.16" class="auto internal xref">6.16</a>. <a href="#name-unannounce" class="internal xref">UNANNOUNCE</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.17">
                <p id="section-toc.1-1.6.2.17.1"><a href="#section-6.17" class="auto internal xref">6.17</a>. <a href="#name-track_status" class="internal xref">TRACK_STATUS</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="auto internal xref">7.1</a>.  <a href="#name-resource-exhaustion" class="internal xref">Resource Exhaustion</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref"></a><a href="#name-contributors" class="internal xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref"></a><a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="auto internal xref"></a><a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="auto internal xref"></a><a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Media Over QUIC Transport (MOQT) is a protocol that is optimized
for the QUIC protocol <span>[<a href="#QUIC" class="cite xref">QUIC</a>]</span>, either directly or via WebTransport
<span>[<a href="#WebTransport" class="cite xref">WebTransport</a>]</span>, for the dissemination of media. MOQT utilizes a
publish/subscribe workflow in which producers of media publish data in
response to subscription requests from a multiplicity of endpoints. MOQT
supports wide range of use-cases with different resiliency and latency
(live, interactive) needs without compromising the scalability and cost
effectiveness associated with content delivery networks.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">MOQT is a generic protocol is designed to work in concert with multiple
MoQ Streaming Formats. These MoQ Streaming Formats define how content is
encoded, packaged, and mapped to MOQT objects, along with policies for
discovery and subscription.<a href="#section-1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-3.1">
          <p id="section-1-3.1.1"><a href="#model" class="auto internal xref">Section 2</a> describes the object model employed by MOQT.<a href="#section-1-3.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-3.2">
          <p id="section-1-3.2.1"><a href="#session" class="auto internal xref">Section 3</a> covers aspects of setting up a MOQT session.<a href="#section-1-3.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-3.3">
          <p id="section-1-3.3.1"><a href="#priorities" class="auto internal xref">Section 4</a> covers mechanisms for prioritizing subscriptions.<a href="#section-1-3.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-3.4">
          <p id="section-1-3.4.1"><a href="#relays-moq" class="auto internal xref">Section 5</a> covers behavior at the relay entities.<a href="#section-1-3.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-3.5">
          <p id="section-1-3.5.1"><a href="#message" class="auto internal xref">Section 6</a> covers how messages are encoded on the wire.<a href="#section-1-3.5.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<div id="motivation">
<section id="section-1.1">
        <h3 id="name-motivation">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-motivation" class="section-name selfRef">Motivation</a>
        </h3>
<p id="section-1.1-1">The development of MOQT is driven by goals in a number of areas -
specifically latency, the robustness of QUIC, workflow efficiency and
relay support.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<div id="latency">
<section id="section-1.1.1">
          <h4 id="name-latency">
<a href="#section-1.1.1" class="section-number selfRef">1.1.1. </a><a href="#name-latency" class="section-name selfRef">Latency</a>
          </h4>
<p id="section-1.1.1-1">HTTP Adaptive Streaming (HAS) has been successful at achieving scale
although often at the cost of latency. Latency is necessary to correct
for variable network throughput. Ideally live content is consumed at the
same bitrate it is produced. End-to-end latency would be fixed and only
subject to encoding and transmission delays. Unfortunately, networks
have variable throughput, primarily due to congestion. Attempting to
deliver content encoded at a higher bitrate than the network can support
causes queuing along the path from producer to consumer. The speed at
which a protocol can detect and respond to queuing determines the
overall latency. TCP-based protocols are simple but are slow to detect
congestion and suffer from head-of-line blocking. Protocols utilizing
UDP directly can avoid queuing, but the application is then responsible
for the complexity of fragmentation, congestion control, retransmissions,
receiver feedback, reassembly, and more. One goal of MOQT is to achieve
the best of both these worlds: leverage the features of QUIC to create a
simple yet flexible low latency protocol that can rapidly detect and
respond to congestion.<a href="#section-1.1.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="leveraging-quic">
<section id="section-1.1.2">
          <h4 id="name-leveraging-quic">
<a href="#section-1.1.2" class="section-number selfRef">1.1.2. </a><a href="#name-leveraging-quic" class="section-name selfRef">Leveraging QUIC</a>
          </h4>
<p id="section-1.1.2-1">The parallel nature of QUIC streams can provide improvements in the face
of loss. A goal of MOQT is to design a streaming protocol to leverage
the transmission benefits afforded by parallel QUIC streams as well
exercising options for flexible loss recovery. Applying <span>[<a href="#QUIC" class="cite xref">QUIC</a>]</span> to HAS
via HTTP/3 has not yet yielded generalized improvements in
throughput. One reason for this is that sending segments down a single
QUIC stream still allows head-of-line blocking to occur.<a href="#section-1.1.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="universal">
<section id="section-1.1.3">
          <h4 id="name-universal">
<a href="#section-1.1.3" class="section-number selfRef">1.1.3. </a><a href="#name-universal" class="section-name selfRef">Universal</a>
          </h4>
<p id="section-1.1.3-1">Internet delivered media today has protocols optimized for ingest and
separate protocols optimized for distribution. This protocol switch in
the distribution chain necessitates intermediary origins which
re-package the media content. While specialization can have its
benefits, there are gains in efficiency to be had in not having to
re-package content. A goal of MOQT is to develop a single protocol which
can be used for transmission from contribution to distribution. A
related goal is the ability to support existing encoding and packaging
schemas, both for backwards compatibility and for interoperability with
the established content preparation ecosystem.<a href="#section-1.1.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="relays">
<section id="section-1.1.4">
          <h4 id="name-relays">
<a href="#section-1.1.4" class="section-number selfRef">1.1.4. </a><a href="#name-relays" class="section-name selfRef">Relays</a>
          </h4>
<p id="section-1.1.4-1">An integral feature of a protocol being successful is its ability to
deliver media at scale. Greatest scale is achieved when third-party
networks, independent of both the publisher and subscriber, can be
leveraged to relay the content. These relays must cache content for
distribution efficiency while simultaneously routing content and
deterministically responding to congestion in a multi-tenant network. A
goal of MOQT is to treat relays as first-class citizens of the protocol
and ensure that objects are structured such that information necessary
for distribution is available to relays while the media content itself
remains opaque and private.<a href="#section-1.1.4-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="terms-and-definitions">
<section id="section-1.2">
        <h3 id="name-terms-and-definitions">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-terms-and-definitions" class="section-name selfRef">Terms and Definitions</a>
        </h3>
<p id="section-1.2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
"<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-1.2-2">
          <dt id="section-1.2-2.1">Client:</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-2.2">
            <p id="section-1.2-2.2.1">The party initiating a MoQ transport session.<a href="#section-1.2-2.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.3">Server:</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-2.4">
            <p id="section-1.2-2.4.1">The party accepting an incoming transport session.<a href="#section-1.2-2.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.5">Endpoint:</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-2.6">
            <p id="section-1.2-2.6.1">A Client or Server.<a href="#section-1.2-2.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.7">Publisher:</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-2.8">
            <p id="section-1.2-2.8.1">An endpoint that handles subscriptions by sending requested Objects from the requested track.<a href="#section-1.2-2.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.9">Subscriber:</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-2.10">
            <p id="section-1.2-2.10.1">An endpoint that subscribes to and receives tracks.<a href="#section-1.2-2.10.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.11">Original Publisher:</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-2.12">
            <p id="section-1.2-2.12.1">The initial publisher of a given track.<a href="#section-1.2-2.12.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.13">End Subscriber:</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-2.14">
            <p id="section-1.2-2.14.1">A subscriber that initiates a subscription and does not send the data on to other subscribers.<a href="#section-1.2-2.14.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.15">Relay:</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-2.16">
            <p id="section-1.2-2.16.1">An entitly that is both a Publisher and a Subscriber, but not the Original
Publisher or End Subscriber.<a href="#section-1.2-2.16.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.17">Upstream:</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-2.18">
            <p id="section-1.2-2.18.1">In the direction of the Original Publisher<a href="#section-1.2-2.18.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.19">Downstream:</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-2.20">
            <p id="section-1.2-2.20.1">In the direction of the End Subscriber(s)<a href="#section-1.2-2.20.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.21">Transport session:</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-2.22">
            <p id="section-1.2-2.22.1">A raw QUIC connection or a WebTransport session.<a href="#section-1.2-2.22.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.23">Congestion:</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-2.24">
            <p id="section-1.2-2.24.1">Packet loss and queuing caused by degraded or overloaded networks.<a href="#section-1.2-2.24.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.25">Group:</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-2.26">
            <p id="section-1.2-2.26.1">A temporal sequence of objects. A group represents a join point in a
track. See (<a href="#model-group" class="auto internal xref">Section 2.2</a>).<a href="#section-1.2-2.26.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.27">Object:</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-2.28">
            <p id="section-1.2-2.28.1">An object is an addressable unit whose payload is a sequence of
bytes. Objects form the base element in the MOQT model. See
(<a href="#model-object" class="auto internal xref">Section 2.1</a>).<a href="#section-1.2-2.28.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.29">Track:</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-2.30">
            <p id="section-1.2-2.30.1">An encoded bitstream. Tracks contain a sequential series of one or
more groups and are the subscribable entity with MOQT.
See (<a href="#model-track" class="auto internal xref">Section 2.3</a>).<a href="#section-1.2-2.30.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="notational-conventions">
<section id="section-1.3">
        <h3 id="name-notational-conventions">
<a href="#section-1.3" class="section-number selfRef">1.3. </a><a href="#name-notational-conventions" class="section-name selfRef">Notational Conventions</a>
        </h3>
<p id="section-1.3-1">This document uses the conventions detailed in (<span>[<a href="#RFC9000" class="cite xref">RFC9000</a>], <a href="https://rfc-editor.org/rfc/rfc9000#section-1.3" class="relref">Section 1.3</a></span>)
when describing the binary encoding.<a href="#section-1.3-1" class="pilcrow">¶</a></p>
<p id="section-1.3-2">As a quick reference, the following list provides a non normative summary
of the parts of RFC9000 field syntax that are used in this specification.<a href="#section-1.3-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-1.3-3">
          <dt id="section-1.3-3.1">x (L):</dt>
          <dd style="margin-left: 1.5em" id="section-1.3-3.2">
            <p id="section-1.3-3.2.1">Indicates that x is L bits long<a href="#section-1.3-3.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.3-3.3">x (i):</dt>
          <dd style="margin-left: 1.5em" id="section-1.3-3.4">
            <p id="section-1.3-3.4.1">Indicates that x holds an integer value using the variable-length
encoding as described in (<span>[<a href="#RFC9000" class="cite xref">RFC9000</a>], <a href="https://rfc-editor.org/rfc/rfc9000#section-16" class="relref">Section 16</a></span>)<a href="#section-1.3-3.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.3-3.5">x (..):</dt>
          <dd style="margin-left: 1.5em" id="section-1.3-3.6">
            <p id="section-1.3-3.6.1">Indicates that x can be any length including zero bits long.  Values
 in this format always end on a byte boundary.<a href="#section-1.3-3.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.3-3.7">[x (L)]:</dt>
          <dd style="margin-left: 1.5em" id="section-1.3-3.8">
            <p id="section-1.3-3.8.1">Indicates that x is optional and has a length of L<a href="#section-1.3-3.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.3-3.9">x (L) ...:</dt>
          <dd style="margin-left: 1.5em" id="section-1.3-3.10">
            <p id="section-1.3-3.10.1">Indicates that x is repeated zero or more times and that each instance
has a length of L<a href="#section-1.3-3.10.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-1.3-4">This document extends the RFC9000 syntax and with the additional field types:<a href="#section-1.3-4" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-1.3-5">
          <dt id="section-1.3-5.1">x (b):</dt>
          <dd style="margin-left: 1.5em" id="section-1.3-5.2">
            <p id="section-1.3-5.2.1">Indicates that x consists of a variable length integer encoding as
described in (<span>[<a href="#RFC9000" class="cite xref">RFC9000</a>], <a href="https://rfc-editor.org/rfc/rfc9000#section-16" class="relref">Section 16</a></span>), followed by that many bytes
of binary data<a href="#section-1.3-5.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-1.3-5.3">x (f):</dt>
          <dd style="margin-left: 1.5em" id="section-1.3-5.4">
            <p id="section-1.3-5.4.1">Indicates that x is a flag and is encoded as a single byte with the
value 0 or 1. A value of 0 indicates the flag is false or off, while a
value of 1 indicates the flag is true or on. Any other value is a
protocol error and <span class="bcp14">SHOULD</span> terminate the session with a Protocol
Violation (<a href="#session-termination" class="auto internal xref">Section 3.5</a>).<a href="#section-1.3-5.4.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-1.3-6">To reduce unnecessary use of bandwidth, variable length integers <span class="bcp14">SHOULD</span>
be encoded using the least number of bytes possible to represent the
required value.<a href="#section-1.3-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="model">
<section id="section-2">
      <h2 id="name-object-model">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-object-model" class="section-name selfRef">Object Model</a>
      </h2>
<p id="section-2-1">MOQT has a hierarchical object model for data, comprised of objects,
groups and tracks.<a href="#section-2-1" class="pilcrow">¶</a></p>
<div id="model-object">
<section id="section-2.1">
        <h3 id="name-objects">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-objects" class="section-name selfRef">Objects</a>
        </h3>
<p id="section-2.1-1">The basic data element of MOQT is an object.  An object is an
addressable unit whose payload is a sequence of bytes.  All objects
belong to a group, indicating ordering and potential
dependencies. <a href="#model-group" class="auto internal xref">Section 2.2</a>  An object is uniquely identified by
its track namespace, track name, group ID, and object ID, and must be an
identical sequence of bytes regardless of how or where it is retrieved.
An Object can become unavailable, but it's contents <span class="bcp14">MUST NOT</span> change over
time.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.1-2">Objects are comprised of two parts: metadata and a payload.  The metadata is
never encrypted and is always visible to relays. The payload portion may be
encrypted, in which case it is only visible to the Original Publisher and End
Subscribers. The application is solely responsible for the content of the object
payload. This includes the underlying encoding, compression, any end-to-end
encryption, or authentication. A relay <span class="bcp14">MUST NOT</span> combine, split, or otherwise
modify object payloads.<a href="#section-2.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="model-group">
<section id="section-2.2">
        <h3 id="name-groups">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-groups" class="section-name selfRef">Groups</a>
        </h3>
<p id="section-2.2-1">A group is a collection of objects and is a sub-unit of a track
(<a href="#model-track" class="auto internal xref">Section 2.3</a>).  Objects within a group <span class="bcp14">SHOULD NOT</span> depend on objects
in other groups.  A group behaves as a join point for subscriptions.
A new subscriber might not want to receive the entire track, and may
instead opt to receive only the latest group(s).  The publisher then
selectively transmits objects based on their group membership.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="model-track">
<section id="section-2.3">
        <h3 id="name-track">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-track" class="section-name selfRef">Track</a>
        </h3>
<p id="section-2.3-1">A track is a sequence of groups (<a href="#model-group" class="auto internal xref">Section 2.2</a>). It is the entity
against which a subscriber issues a subscription request.  A subscriber
can request to receive individual tracks starting at a group boundary,
including any new objects pushed by the publisher while the track is
active.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
<div id="track-name">
<section id="section-2.3.1">
          <h4 id="name-track-naming-and-scopes">
<a href="#section-2.3.1" class="section-number selfRef">2.3.1. </a><a href="#name-track-naming-and-scopes" class="section-name selfRef">Track Naming and Scopes</a>
          </h4>
<p id="section-2.3.1-1">In MOQT, every track has a track name and a track namespace associated
with it.  A track name identifies an individual track within the
namespace.<a href="#section-2.3.1-1" class="pilcrow">¶</a></p>
<p id="section-2.3.1-2">A MOQT scope is a set of servers (as identified by their connection
URIs) for which the tuple of Track Name and Track Namespace are
guaranteed to be unique and identify a specific track. It is up to
the application using MOQT to define how broad or narrow the scope is.
An application that deals with connections between devices
on a local network may limit the scope to a single connection; by
contrast, an application that uses multiple CDNs to serve media may
require the scope to include all of those CDNs.<a href="#section-2.3.1-2" class="pilcrow">¶</a></p>
<p id="section-2.3.1-3">Because the tuple of Track Namespace and Track Name are unique within an
MOQT scope, they can be used as a cache key.
MOQT does not provide any in-band content negotiation methods similar to
the ones defined by HTTP (<span>[<a href="#RFC9110" class="cite xref">RFC9110</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-10" class="relref">Section 10</a></span>); if, at a given
moment in time, two tracks within the same scope contain different data,
they have to have different names and/or namespaces.<a href="#section-2.3.1-3" class="pilcrow">¶</a></p>
<p id="section-2.3.1-4">In this specification, both the Track Namespace and the Track Name are
not constrained to a specific encoding. They carry a sequence of
bytes and comparison between two Track Namespaces or Track Names is
done by exact comparison of the bytes. Specifications that use MoQ Transport
may constrain the information in these fields, for example by restricting
them to UTF-8. Any specification that does needs to specify the
canonicalization into the bytes in the Track Namespace or Track Name
such that exact comparison works.<a href="#section-2.3.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="connection-url">
<section id="section-2.3.2">
          <h4 id="name-connection-url">
<a href="#section-2.3.2" class="section-number selfRef">2.3.2. </a><a href="#name-connection-url" class="section-name selfRef">Connection URL</a>
          </h4>
<p id="section-2.3.2-1">Each track <span class="bcp14">MAY</span> have one or more associated connection URLs specifying
network hosts through which a track may be accessed. The syntax of the
Connection URL and the associated connection setup procedures are
specific to the underlying transport protocol usage <a href="#session" class="auto internal xref">Section 3</a>.<a href="#section-2.3.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="session">
<section id="section-3">
      <h2 id="name-sessions">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-sessions" class="section-name selfRef">Sessions</a>
      </h2>
<div id="session-establishment">
<section id="section-3.1">
        <h3 id="name-session-establishment">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-session-establishment" class="section-name selfRef">Session establishment</a>
        </h3>
<p id="section-3.1-1">This document defines a protocol that can be used interchangeably both
over a QUIC connection directly <span>[<a href="#QUIC" class="cite xref">QUIC</a>]</span>, and over WebTransport
<span>[<a href="#WebTransport" class="cite xref">WebTransport</a>]</span>.  Both provide streams and datagrams with similar
semantics (see <span>[<a href="#I-D.ietf-webtrans-overview" class="cite xref">I-D.ietf-webtrans-overview</a>], <a href="https://datatracker.ietf.org/doc/html/draft-ietf-webtrans-overview-07#section-4" class="relref">Section 4</a></span>); thus, the
main difference lies in how the servers are identified and how the
connection is established.  When using QUIC, datagrams <span class="bcp14">MUST</span> be
supported via the [QUIC-DATAGRAM] extension, which is already a
requirement for WebTransport over HTTP/3.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">There is no definition of the protocol over other transports,
such as TCP, and applications using MoQ might need to fallback to
another protocol when QUIC or WebTransport aren't available.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<div id="webtransport">
<section id="section-3.1.1">
          <h4 id="name-webtransport">
<a href="#section-3.1.1" class="section-number selfRef">3.1.1. </a><a href="#name-webtransport" class="section-name selfRef">WebTransport</a>
          </h4>
<p id="section-3.1.1-1">A MOQT server that is accessible via WebTransport can be identified
using an HTTPS URI (<span>[<a href="#RFC9110" class="cite xref">RFC9110</a>], <a href="https://rfc-editor.org/rfc/rfc9110#section-4.2.2" class="relref">Section 4.2.2</a></span>).  A MOQT session can be
established by sending an extended CONNECT request to the host and the
path indicated by the URI, as described in <span>[<a href="#WebTransport" class="cite xref">WebTransport</a>], <a href="https://datatracker.ietf.org/doc/html/draft-ietf-webtrans-http3-09#section-3" class="relref">Section 3</a></span>.<a href="#section-3.1.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="quic">
<section id="section-3.1.2">
          <h4 id="name-quic">
<a href="#section-3.1.2" class="section-number selfRef">3.1.2. </a><a href="#name-quic" class="section-name selfRef">QUIC</a>
          </h4>
<p id="section-3.1.2-1">A MOQT server that is accessible via native QUIC can be identified by a
URI with a "moq" scheme.  The "moq" URI scheme is defined as follows,
using definitions from <span>[<a href="#RFC3986" class="cite xref">RFC3986</a>]</span>:<a href="#section-3.1.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.1.2-2">
<pre>
moq-URI = "moqt" "://" authority path-abempty [ "?" query ]
</pre><a href="#section-3.1.2-2" class="pilcrow">¶</a>
</div>
<p id="section-3.1.2-3">The <code>authority</code> portion <span class="bcp14">MUST NOT</span> contain a non-empty <code>host</code> portion.
The <code>moq</code> URI scheme supports the <code>/.well-known/</code> path prefix defined in
<span>[<a href="#RFC8615" class="cite xref">RFC8615</a>]</span>.<a href="#section-3.1.2-3" class="pilcrow">¶</a></p>
<p id="section-3.1.2-4">This protocol does not specify any semantics on the <code>path-abempty</code> and
<code>query</code> portions of the URI.  The contents of those are left up to the
application.<a href="#section-3.1.2-4" class="pilcrow">¶</a></p>
<p id="section-3.1.2-5">The client can establish a connection to a MoQ server identified by a
given URI by setting up a QUIC connection to the host and port
identified by the <code>authority</code> section of the URI.  The <code>path-abempty</code>
and <code>query</code> portions of the URI are communicated to the server using the
PATH parameter (<a href="#path" class="auto internal xref">Section 6.2.2.2</a>) which is sent in the CLIENT_SETUP message at the
start of the session.  The ALPN value <span>[<a href="#RFC7301" class="cite xref">RFC7301</a>]</span> used by the protocol
is <code>moq-00</code>.<a href="#section-3.1.2-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="version-negotiation">
<section id="section-3.2">
        <h3 id="name-version-and-extension-negot">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-version-and-extension-negot" class="section-name selfRef">Version and Extension Negotiation</a>
        </h3>
<p id="section-3.2-1">Endpoints use the exchange of Setup messages to negotiate the MOQT version and
any extensions to use.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">The client indicates the MOQT versions it supports in the CLIENT_SETUP message
(see <a href="#message-setup" class="auto internal xref">Section 6.2</a>). It also includes the union of all Setup Parameters
<a href="#setup-params" class="auto internal xref">Section 6.2.2</a> required for a handshake by any of those versions.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<p id="section-3.2-3">Within any MOQT version, clients request the use of extensions by adding Setup
parameters corresponding to that extension. No extensions are defined in this
document.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<p id="section-3.2-4">The server replies with a SERVER_SETUP message that indicates the chosen
version, includes all parameters required for a handshake in that version, and
parameters for every extension requested by the client that it supports.<a href="#section-3.2-4" class="pilcrow">¶</a></p>
<p id="section-3.2-5">New versions of MOQT <span class="bcp14">MUST</span> specify which existing extensions can be used with
that version. New extensions <span class="bcp14">MUST</span> specify the existing versions with which they
can be used.<a href="#section-3.2-5" class="pilcrow">¶</a></p>
<p id="section-3.2-6">If a given parameter carries the same information in multiple versions,
but might have different optimal values in those versions, there <span class="bcp14">SHOULD</span> be
separate Setup parameters for that information in each version.<a href="#section-3.2-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="session-init">
<section id="section-3.3">
        <h3 id="name-session-initialization">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-session-initialization" class="section-name selfRef">Session initialization</a>
        </h3>
<p id="section-3.3-1">The first stream opened is a client-initiated bidirectional control stream where
the peers exchange Setup messages (<a href="#message-setup" class="auto internal xref">Section 6.2</a>).  All messages defined in
this draft except OBJECT and OBJECT_WITH_LENGTH are sent on the control stream
after the Setup message. Control messages <span class="bcp14">MUST NOT</span> be sent on any other stream,
and a peer receiving a control message on a different stream closes the session
as a 'Protocol Violation'. Objects <span class="bcp14">MUST NOT</span> be sent on the control stream, and a
peer receiving an Object on the control stream closes the session as a 'Protocol
Violation'.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2">This draft only specifies a single use of bidirectional streams. Objects are
sent on unidirectional streams.  Because there are no other uses of
bidirectional streams, a peer <span class="bcp14">MAY</span> currently close the session as a
'Protocol Violation' if it receives a second bidirectional stream.<a href="#section-3.3-2" class="pilcrow">¶</a></p>
<p id="section-3.3-3">The control stream <span class="bcp14">MUST NOT</span> be abruptly closed at the underlying transport
layer.  Doing so results in the session being closed as a 'Protocol Violation'.<a href="#section-3.3-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="stream-cancellation">
<section id="section-3.4">
        <h3 id="name-stream-cancellation">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-stream-cancellation" class="section-name selfRef">Stream Cancellation</a>
        </h3>
<p id="section-3.4-1">Streams aside from the control stream <span class="bcp14">MAY</span> be canceled due to congestion
or other reasons by either the publisher or subscriber. Early termination of a
stream does not affect the MoQ application state, and therefore has no
effect on outstanding subscriptions.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="session-termination">
<section id="section-3.5">
        <h3 id="name-termination">
<a href="#section-3.5" class="section-number selfRef">3.5. </a><a href="#name-termination" class="section-name selfRef">Termination</a>
        </h3>
<p id="section-3.5-1">The transport session can be terminated at any point.  When native QUIC
is used, the session is closed using the CONNECTION_CLOSE frame
(<span>[<a href="#QUIC" class="cite xref">QUIC</a>], <a href="https://rfc-editor.org/rfc/rfc9000#section-19.19" class="relref">Section 19.19</a></span>).  When WebTransport is used, the session is
closed using the CLOSE_WEBTRANSPORT_SESSION capsule (<span>[<a href="#WebTransport" class="cite xref">WebTransport</a>], <a href="https://datatracker.ietf.org/doc/html/draft-ietf-webtrans-http3-09#section-5" class="relref">Section 5</a></span>).<a href="#section-3.5-1" class="pilcrow">¶</a></p>
<p id="section-3.5-2">The application <span class="bcp14">MAY</span> use any error message and <span class="bcp14">SHOULD</span> use a relevant
code, as defined below:<a href="#section-3.5-2" class="pilcrow">¶</a></p>
<table class="center" id="table-1">
          <caption><a href="#table-1" class="selfRef">Table 1</a></caption>
<thead>
            <tr>
              <th class="text-right" rowspan="1" colspan="1">Code</th>
              <th class="text-left" rowspan="1" colspan="1">Reason</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-right" rowspan="1" colspan="1">0x0</td>
              <td class="text-left" rowspan="1" colspan="1">No Error</td>
            </tr>
            <tr>
              <td class="text-right" rowspan="1" colspan="1">0x1</td>
              <td class="text-left" rowspan="1" colspan="1">Internal Error</td>
            </tr>
            <tr>
              <td class="text-right" rowspan="1" colspan="1">0x2</td>
              <td class="text-left" rowspan="1" colspan="1">Unauthorized</td>
            </tr>
            <tr>
              <td class="text-right" rowspan="1" colspan="1">0x3</td>
              <td class="text-left" rowspan="1" colspan="1">Protocol Violation</td>
            </tr>
            <tr>
              <td class="text-right" rowspan="1" colspan="1">0x4</td>
              <td class="text-left" rowspan="1" colspan="1">Duplicate Track Alias</td>
            </tr>
            <tr>
              <td class="text-right" rowspan="1" colspan="1">0x5</td>
              <td class="text-left" rowspan="1" colspan="1">Parameter Length Mismatch</td>
            </tr>
            <tr>
              <td class="text-right" rowspan="1" colspan="1">0x10</td>
              <td class="text-left" rowspan="1" colspan="1">GOAWAY Timeout</td>
            </tr>
          </tbody>
        </table>
<ul class="normal">
<li class="normal" id="section-3.5-4.1">
            <p id="section-3.5-4.1.1">No Error: The session is being terminated without an error.<a href="#section-3.5-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.5-4.2">
            <p id="section-3.5-4.2.1">Internal Error: An implementation specific error occurred.<a href="#section-3.5-4.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.5-4.3">
            <p id="section-3.5-4.3.1">Unauthorized: The endpoint breached an agreement, which <span class="bcp14">MAY</span> have been
 pre-negotiated by the application.<a href="#section-3.5-4.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.5-4.4">
            <p id="section-3.5-4.4.1">Protocol Violation: The remote endpoint performed an action that was
disallowed by the specification.<a href="#section-3.5-4.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.5-4.5">
            <p id="section-3.5-4.5.1">Duplicate Track Alias: The endpoint attempted to use a Track Alias
that was already in use.<a href="#section-3.5-4.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.5-4.6">
            <p id="section-3.5-4.6.1">GOAWAY Timeout: The session was closed because the client took too long to
close the session in response to a GOAWAY (<a href="#message-goaway" class="auto internal xref">Section 6.3</a>) message.
See session migration (<a href="#session-migration" class="auto internal xref">Section 3.6</a>).<a href="#section-3.5-4.6.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="session-migration">
<section id="section-3.6">
        <h3 id="name-migration">
<a href="#section-3.6" class="section-number selfRef">3.6. </a><a href="#name-migration" class="section-name selfRef">Migration</a>
        </h3>
<p id="section-3.6-1">MoqTransport requires a long-lived and stateful session. However, a service
provider needs the ability to shutdown/restart a server without waiting for all
sessions to drain naturally, as that can take days for long-form media.
MoqTransport avoids this via the GOAWAY message (<a href="#message-goaway" class="auto internal xref">Section 6.3</a>).<a href="#section-3.6-1" class="pilcrow">¶</a></p>
<p id="section-3.6-2">The server sends a GOAWAY message, signaling that the client should establish a
new session and migrate any active subscriptions. The GOAWAY message may contain
a new URI for the new session, otherwise the current URI is reused. The server
<span class="bcp14">SHOULD</span> terminate the session with 'GOAWAY Timeout' after a sufficient timeout if
there are still open subscriptions on a connection.<a href="#section-3.6-2" class="pilcrow">¶</a></p>
<p id="section-3.6-3">The GOAWAY message does not immediately impact subscription state. A subscriber
<span class="bcp14">SHOULD</span> individually UNSUBSCRIBE for each existing subscription, while a
publisher <span class="bcp14">MAY</span> reject new SUBSCRIBEs while in the draining state. When the server
is a subscriber, it <span class="bcp14">SHOULD</span> send a GOAWAY message prior to any UNSUBSCRIBE
messages.<a href="#section-3.6-3" class="pilcrow">¶</a></p>
<p id="section-3.6-4">After the client receives a GOAWAY, it's <span class="bcp14">RECOMMENDED</span> that the client waits until
there are no more active subscriptions before closing the session with NO_ERROR.
Ideally this is transparent to the application using MOQT, which involves
establishing a new session in the background and migrating active subscriptions
and announcements. The client can choose to delay closing the session if it
expects more OBJECTs to be delivered. The server closes the session with a
'GOAWAY Timeout' if the client doesn't close the session quickly enough.<a href="#section-3.6-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="priorities">
<section id="section-4">
      <h2 id="name-priorities">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-priorities" class="section-name selfRef">Priorities</a>
      </h2>
<p id="section-4-1">MoQ priorities allow a subscriber and original publisher to influence
the transmission order of Objects within a session in the presence of
congestion.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">Given the critical nature of control messages and their relatively
small size, the control stream <span class="bcp14">SHOULD</span> be prioritized higher than all
subscribed Objects.<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">The subscriber indicates the priority of a subscription via the
Subscriber Priority field and the original publisher indicates priority
in every stream or datagram header.  As such, the subscriber's priority is a
property of the subscription and the original publisher's priority is a
property of the Track and the Objects it contains. In both cases, a lower
value indicates a higher priority, with 0 being the highest priority.<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4">The Subscriber Priority is considered first when selecting a subscription
to send data on within a given session. When two or more subscriptions
have equal subscriber priority, the original publisher priority is considered
next and can change within the track, so subscriptions are prioritized based
on the highest priority data available to send. For example, if the subscription
had data at priority 6 and priority 10 to send, the subscription priority would
be 6. When both the subscriber and original publisher priorities for a
subscription are equal, how much data to send from each subscription is
implementation-dependent, but the expectation is that all subscriptions will
be able to send some data.<a href="#section-4-4" class="pilcrow">¶</a></p>
<p id="section-4-5">The subscriber's priority can be changed via a SUBSCRIBE_UPDATE message.
This updates the priority of all unsent data within the subscription,
though the details of the reprioitization are implementation-specific.<a href="#section-4-5" class="pilcrow">¶</a></p>
<p id="section-4-6">Subscriptions have a Group Order of either 'Ascending' or 'Descending',
which indicates whether the lowest or highest Group Id <span class="bcp14">SHOULD</span> be sent first
when multiple Groups are available to send.  A subscriber can specify either
'Ascending' or 'Descending' in the SUBSCRIBE message or they can specify they
want to use the Original Publisher's Group Order, which is indicated in
the corresponding SUBSCRIBE_OK.<a href="#section-4-6" class="pilcrow">¶</a></p>
<p id="section-4-7">Within the same Group, and the same priority level,
Objects with a lower Object Id are always sent before objects with a
higher Object Id, regardless of the specified Group Order. If the priority
varies within a Group, higher priority Objects are sent before lower
priority Objects.<a href="#section-4-7" class="pilcrow">¶</a></p>
<p id="section-4-8">The Group Order cannot be changed via a SUBSCRIBE_UPDATE message, and
instead an UNSUBSCRIBE and SUBSCRIBE can be used.<a href="#section-4-8" class="pilcrow">¶</a></p>
<p id="section-4-9">Relays <span class="bcp14">SHOULD</span> respect the subscriber and original publisher's priorities.
Relays <span class="bcp14">SHOULD NOT</span> directly use Subscriber Priority or Group Order
from incoming subscriptions for upstream subscriptions. Relays use of
Subscriber Priority for upstream subscriptions can be based on
factors specific to it, such as the popularity of the
content or policy, or relays can specify the same value for all
upstream subscriptions.<a href="#section-4-9" class="pilcrow">¶</a></p>
<p id="section-4-10">MoQ Sessions can span multiple namespaces, and priorities might not
be coordinated across namespaces.  The subscriber's priority is
considered first, so there is a mechanism for a subscriber to fix
incompatibilities between different namespaces prioritization schemes.
Additionally, it is anticipated that when multiple namespaces
are present within a session, the namespaces could be coordinating,
possibly part of the same application.  In cases when pooling among
namespaces is expected to cause issues, multiple MoQ sessions, either
within a single connection or on multiple connections can be used.<a href="#section-4-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="relays-moq">
<section id="section-5">
      <h2 id="name-relays-2">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-relays-2" class="section-name selfRef">Relays</a>
      </h2>
<p id="section-5-1">Relays are leveraged to enable distribution scale in the MoQ
architecture. Relays can be used to form an overlay delivery network,
similar in functionality to Content Delivery Networks
(CDNs). Additionally, relays serve as policy enforcement points by
validating subscribe and publish requests at the edge of a network.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">Relays can cache Objects, but are not required to.<a href="#section-5-2" class="pilcrow">¶</a></p>
<div id="subscriber-interactions">
<section id="section-5.1">
        <h3 id="name-subscriber-interactions">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-subscriber-interactions" class="section-name selfRef">Subscriber Interactions</a>
        </h3>
<p id="section-5.1-1">Subscribers interact with the Relays by sending a SUBSCRIBE
(<a href="#message-subscribe-req" class="auto internal xref">Section 6.4</a>) control message for the tracks of
interest. Relays <span class="bcp14">MUST</span> ensure subscribers are authorized to access the
content associated with the track. The authorization
information can be part of subscription request itself or part of the
encompassing session. The specifics of how a relay authorizes a user are
outside the scope of this specification.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">The subscriber making the subscribe request is notified of the result of
the subscription, via SUBSCRIBE_OK (<a href="#message-subscribe-ok" class="auto internal xref">Section 6.12</a>) or the
SUBSCRIBE_ERROR <a href="#message-subscribe-error" class="auto internal xref">Section 6.13</a> control message.
The entity receiving the SUBSCRIBE <span class="bcp14">MUST</span> send only a single response to
a given SUBSCRIBE of either SUBSCRIBE_OK or SUBSCRIBE_ERROR.
If a relay does not already have a subscription for the track,
or if the subscription does not cover all the requested Objects, it
will need to make an upstream subscription.  The relay <span class="bcp14">SHOULD NOT</span>
return a SUBCRIBE_OK until at least one SUBSCRIBE_OK has been
received for the track, to ensure the Group Order is correct.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1-3">For successful subscriptions, the publisher maintains a list of
subscribers for each track. Each new OBJECT belonging to the
track within the subscription range is forwarded to each active
subscriber, dependent on the congestion response. A subscription
remains active until the publisher of the track terminates the
track with a SUBSCRIBE_DONE (see <a href="#message-subscribe-done" class="auto internal xref">Section 6.14</a>).<a href="#section-5.1-3" class="pilcrow">¶</a></p>
<p id="section-5.1-4">Objects <span class="bcp14">MUST NOT</span> be sent for unsuccessful subscriptions, and if a subscriber
receives a SUBSCRIBE_ERROR after receiving objects, it <span class="bcp14">MUST</span> close the session
with a 'Protocol Violation'.<a href="#section-5.1-4" class="pilcrow">¶</a></p>
<p id="section-5.1-5">A relay <span class="bcp14">MUST</span> not reorder or drop objects received on a multi-object stream when
forwarding to subscribers, unless it has application specific information.<a href="#section-5.1-5" class="pilcrow">¶</a></p>
<p id="section-5.1-6">Relays <span class="bcp14">MAY</span> aggregate authorized subscriptions for a given track when
multiple subscribers request the same track. Subscription aggregation
allows relays to make only a single upstream subscription for the
track. The published content received from the upstream subscription
request is cached and shared among the pending subscribers.<a href="#section-5.1-6" class="pilcrow">¶</a></p>
<p id="section-5.1-7">The application <span class="bcp14">SHOULD</span> use a relevant error code in SUBSCRIBE_ERROR,
as defined below:<a href="#section-5.1-7" class="pilcrow">¶</a></p>
<table class="center" id="table-2">
          <caption><a href="#table-2" class="selfRef">Table 2</a></caption>
<thead>
            <tr>
              <th class="text-right" rowspan="1" colspan="1">Code</th>
              <th class="text-left" rowspan="1" colspan="1">Reason</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-right" rowspan="1" colspan="1">0x0</td>
              <td class="text-left" rowspan="1" colspan="1">Internal Error</td>
            </tr>
            <tr>
              <td class="text-right" rowspan="1" colspan="1">0x1</td>
              <td class="text-left" rowspan="1" colspan="1">Invalid Range</td>
            </tr>
            <tr>
              <td class="text-right" rowspan="1" colspan="1">0x2</td>
              <td class="text-left" rowspan="1" colspan="1">Retry Track Alias</td>
            </tr>
          </tbody>
        </table>
<p id="section-5.1-9">The application <span class="bcp14">SHOULD</span> use a relevant status code in
SUBSCRIBE_DONE, as defined below:<a href="#section-5.1-9" class="pilcrow">¶</a></p>
<table class="center" id="table-3">
          <caption><a href="#table-3" class="selfRef">Table 3</a></caption>
<thead>
            <tr>
              <th class="text-right" rowspan="1" colspan="1">Code</th>
              <th class="text-left" rowspan="1" colspan="1">Reason</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-right" rowspan="1" colspan="1">0x0</td>
              <td class="text-left" rowspan="1" colspan="1">Unsubscribed</td>
            </tr>
            <tr>
              <td class="text-right" rowspan="1" colspan="1">0x1</td>
              <td class="text-left" rowspan="1" colspan="1">Internal Error</td>
            </tr>
            <tr>
              <td class="text-right" rowspan="1" colspan="1">0x2</td>
              <td class="text-left" rowspan="1" colspan="1">Unauthorized</td>
            </tr>
            <tr>
              <td class="text-right" rowspan="1" colspan="1">0x3</td>
              <td class="text-left" rowspan="1" colspan="1">Track Ended</td>
            </tr>
            <tr>
              <td class="text-right" rowspan="1" colspan="1">0x4</td>
              <td class="text-left" rowspan="1" colspan="1">Subscription Ended</td>
            </tr>
            <tr>
              <td class="text-right" rowspan="1" colspan="1">0x5</td>
              <td class="text-left" rowspan="1" colspan="1">Going Away</td>
            </tr>
            <tr>
              <td class="text-right" rowspan="1" colspan="1">0x6</td>
              <td class="text-left" rowspan="1" colspan="1">Expired</td>
            </tr>
          </tbody>
        </table>
</section>
</div>
<div id="publisher-interactions">
<section id="section-5.2">
        <h3 id="name-publisher-interactions">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-publisher-interactions" class="section-name selfRef">Publisher Interactions</a>
        </h3>
<p id="section-5.2-1">Publishing through the relay starts with publisher sending ANNOUNCE
control message with a <code>Track Namespace</code> (<a href="#model-track" class="auto internal xref">Section 2.3</a>).<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">Relays <span class="bcp14">MUST</span> ensure that publishers are authorized by:<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2-3.1">
            <p id="section-5.2-3.1.1">Verifying that the publisher is authorized to publish the content
associated with the set of tracks whose Track Namespace matches the
announced namespace. Specifics of where the authorization happens,
either at the relays or forwarded for further processing, depends on
the way the relay is managed and is application specific (typically
based on prior business agreement).<a href="#section-5.2-3.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-5.2-4">Relays respond with an ANNOUNCE_OK or ANNOUNCE_ERROR control message
providing the result of announcement. The entity receiving the
ANNOUNCE <span class="bcp14">MUST</span> send only a single response to a given ANNOUNCE of
either ANNOUNCE_OK or ANNOUNCE_ERROR.  When a publisher wants to stop
new subscriptions for an announced namespace it sends an UNANNOUNCE.
A subscriber indicates it will no longer route subscriptions for a
namespace it previously responded ANNOUNCE_OK to by sending an
ANNOUNCE_CANCEL.<a href="#section-5.2-4" class="pilcrow">¶</a></p>
<p id="section-5.2-5">A relay manages sessions from multiple publishers and subscribers,
connecting them based on the track namespace. This <span class="bcp14">MUST</span> use an exact
match on track namespace unless otherwise negotiated by the application.
For example, a SUBSCRIBE namespace=foobar message will be forwarded to
the session that sent ANNOUNCE namespace=foobar.<a href="#section-5.2-5" class="pilcrow">¶</a></p>
<p id="section-5.2-6">OBJECT message headers carry a short hop-by-hop <code>Track Alias</code> that maps to
the Full Track Name (see <a href="#message-subscribe-ok" class="auto internal xref">Section 6.12</a>). Relays use the
<code>Track Alias</code> of an incoming OBJECT message to identify its track and find
the active subscribers for that track. Relays <span class="bcp14">MUST NOT</span> depend on OBJECT
payload content for making forwarding decisions and <span class="bcp14">MUST</span> only depend on the
fields, such as priority order and other metadata properties in the
OBJECT message header. Unless determined by congestion response, Relays
<span class="bcp14">MUST</span> forward the OBJECT message to the matching subscribers.<a href="#section-5.2-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="relay-object-handling">
<section id="section-5.3">
        <h3 id="name-relay-object-handling">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-relay-object-handling" class="section-name selfRef">Relay Object Handling</a>
        </h3>
<p id="section-5.3-1">MOQT encodes the delivery information for a stream via OBJECT headers
(<a href="#message-object" class="auto internal xref">Section 6.11</a>).  A relay <span class="bcp14">MUST NOT</span> modify Object properties when
forwarding.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3-2">A relay <span class="bcp14">MUST</span> treat the object payload as opaque.  A relay <span class="bcp14">MUST NOT</span>
combine, split, or otherwise modify object payloads.  A relay <span class="bcp14">SHOULD</span>
prioritize sending Objects based on <a href="#priorities" class="auto internal xref">Section 4</a>.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
<p id="section-5.3-3">A publisher <span class="bcp14">SHOULD</span> begin sending incomplete objects when available to
avoid incurring additional latency.<a href="#section-5.3-3" class="pilcrow">¶</a></p>
<p id="section-5.3-4">A relay that reads from a stream and writes to stream in order will
introduce head-of-line blocking.  Packet loss will cause stream data to
be buffered in the library, awaiting in order delivery, which will
increase latency over additional hops.  To mitigate this, a relay <span class="bcp14">SHOULD</span>
read and write stream data out of order subject to flow control
limits.  See section 2.2 in <span>[<a href="#QUIC" class="cite xref">QUIC</a>]</span>.<a href="#section-5.3-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="message">
<section id="section-6">
      <h2 id="name-messages">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-messages" class="section-name selfRef">Messages</a>
      </h2>
<p id="section-6-1">Unidirectional streams and datagrams contain Objects and all other
messages are sent on a bidirectional stream.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">An endpoint that receives an unknown message type <span class="bcp14">MUST</span> close the session.<a href="#section-6-2" class="pilcrow">¶</a></p>
<span id="name-moqt-message"></span><div id="moq-transport-message-format">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-6-3.1">
<pre>
MOQT Message {
  Message Type (i),
  Message Payload (..),
}
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-moqt-message" class="selfRef">MOQT Message</a>
        </figcaption></figure>
</div>
<table class="center" id="table-4">
        <caption><a href="#table-4" class="selfRef">Table 4</a></caption>
<thead>
          <tr>
            <th class="text-right" rowspan="1" colspan="1">ID</th>
            <th class="text-left" rowspan="1" colspan="1">Messages</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-right" rowspan="1" colspan="1">0x0</td>
            <td class="text-left" rowspan="1" colspan="1">OBJECT_STREAM (<a href="#object-message-formats" class="auto internal xref">Section 6.11.2</a>)</td>
          </tr>
          <tr>
            <td class="text-right" rowspan="1" colspan="1">0x1</td>
            <td class="text-left" rowspan="1" colspan="1">OBJECT_DATAGRAM (<a href="#object-message-formats" class="auto internal xref">Section 6.11.2</a>)</td>
          </tr>
          <tr>
            <td class="text-right" rowspan="1" colspan="1">0x2</td>
            <td class="text-left" rowspan="1" colspan="1">SUBSCRIBE_UPDATE (<a href="#message-subscribe-update-req" class="auto internal xref">Section 6.5</a>)</td>
          </tr>
          <tr>
            <td class="text-right" rowspan="1" colspan="1">0x3</td>
            <td class="text-left" rowspan="1" colspan="1">SUBSCRIBE (<a href="#message-subscribe-req" class="auto internal xref">Section 6.4</a>)</td>
          </tr>
          <tr>
            <td class="text-right" rowspan="1" colspan="1">0x4</td>
            <td class="text-left" rowspan="1" colspan="1">SUBSCRIBE_OK (<a href="#message-subscribe-ok" class="auto internal xref">Section 6.12</a>)</td>
          </tr>
          <tr>
            <td class="text-right" rowspan="1" colspan="1">0x5</td>
            <td class="text-left" rowspan="1" colspan="1">SUBSCRIBE_ERROR (<a href="#message-subscribe-error" class="auto internal xref">Section 6.13</a>)</td>
          </tr>
          <tr>
            <td class="text-right" rowspan="1" colspan="1">0x6</td>
            <td class="text-left" rowspan="1" colspan="1">ANNOUNCE  (<a href="#message-announce" class="auto internal xref">Section 6.15</a>)</td>
          </tr>
          <tr>
            <td class="text-right" rowspan="1" colspan="1">0x7</td>
            <td class="text-left" rowspan="1" colspan="1">ANNOUNCE_OK (<a href="#message-announce-ok" class="auto internal xref">Section 6.7</a>)</td>
          </tr>
          <tr>
            <td class="text-right" rowspan="1" colspan="1">0x8</td>
            <td class="text-left" rowspan="1" colspan="1">ANNOUNCE_ERROR (<a href="#message-announce-error" class="auto internal xref">Section 6.8</a>)</td>
          </tr>
          <tr>
            <td class="text-right" rowspan="1" colspan="1">0x9</td>
            <td class="text-left" rowspan="1" colspan="1">UNANNOUNCE  (<a href="#message-unannounce" class="auto internal xref">Section 6.16</a>)</td>
          </tr>
          <tr>
            <td class="text-right" rowspan="1" colspan="1">0xA</td>
            <td class="text-left" rowspan="1" colspan="1">UNSUBSCRIBE (<a href="#message-unsubscribe" class="auto internal xref">Section 6.6</a>)</td>
          </tr>
          <tr>
            <td class="text-right" rowspan="1" colspan="1">0xB</td>
            <td class="text-left" rowspan="1" colspan="1">SUBSCRIBE_DONE (<a href="#message-subscribe-done" class="auto internal xref">Section 6.14</a>)</td>
          </tr>
          <tr>
            <td class="text-right" rowspan="1" colspan="1">0xC</td>
            <td class="text-left" rowspan="1" colspan="1">ANNOUNCE_CANCEL (<a href="#message-announce-cancel" class="auto internal xref">Section 6.9</a>)</td>
          </tr>
          <tr>
            <td class="text-right" rowspan="1" colspan="1">0xD</td>
            <td class="text-left" rowspan="1" colspan="1">TRACK_STATUS_REQUEST (<a href="#message-track-status-req" class="auto internal xref">Section 6.10</a>)</td>
          </tr>
          <tr>
            <td class="text-right" rowspan="1" colspan="1">0xE</td>
            <td class="text-left" rowspan="1" colspan="1">TRACK_STATUS (<a href="#message-track-status" class="auto internal xref">Section 6.17</a>)</td>
          </tr>
          <tr>
            <td class="text-right" rowspan="1" colspan="1">0x10</td>
            <td class="text-left" rowspan="1" colspan="1">GOAWAY (<a href="#message-goaway" class="auto internal xref">Section 6.3</a>)</td>
          </tr>
          <tr>
            <td class="text-right" rowspan="1" colspan="1">0x40</td>
            <td class="text-left" rowspan="1" colspan="1">CLIENT_SETUP (<a href="#message-setup" class="auto internal xref">Section 6.2</a>)</td>
          </tr>
          <tr>
            <td class="text-right" rowspan="1" colspan="1">0x41</td>
            <td class="text-left" rowspan="1" colspan="1">SERVER_SETUP (<a href="#message-setup" class="auto internal xref">Section 6.2</a>)</td>
          </tr>
          <tr>
            <td class="text-right" rowspan="1" colspan="1">0x50</td>
            <td class="text-left" rowspan="1" colspan="1">STREAM_HEADER_TRACK (<a href="#multi-object-streams" class="auto internal xref">Section 6.11.3</a>)</td>
          </tr>
          <tr>
            <td class="text-right" rowspan="1" colspan="1">0x51</td>
            <td class="text-left" rowspan="1" colspan="1">STREAM_HEADER_GROUP (<a href="#multi-object-streams" class="auto internal xref">Section 6.11.3</a>)</td>
          </tr>
        </tbody>
      </table>
<div id="params">
<section id="section-6.1">
        <h3 id="name-parameters">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-parameters" class="section-name selfRef">Parameters</a>
        </h3>
<p id="section-6.1-1">Some messages include a Parameters field that encode optional message
elements. They contain a type, length, and value.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">Senders <span class="bcp14">MUST NOT</span> repeat the same parameter type in a message. Receivers
<span class="bcp14">SHOULD</span> check that there are no duplicate parameters and close the session
as a 'Protocol Violation' if found.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
<p id="section-6.1-3">Receivers ignore unrecognized parameters.<a href="#section-6.1-3" class="pilcrow">¶</a></p>
<p id="section-6.1-4">The format of Parameters is as follows:<a href="#section-6.1-4" class="pilcrow">¶</a></p>
<span id="name-moqt-parameter"></span><div id="moq-param">
<figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-6.1-5.1">
<pre>
Parameter {
  Parameter Type (i),
  Parameter Length (i),
  Parameter Value (..),
}
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-moqt-parameter" class="selfRef">MOQT Parameter</a>
          </figcaption></figure>
</div>
<p id="section-6.1-6">Parameter Type is an integer that indicates the semantic meaning of the
parameter. Setup message parameters use a namespace that is constant across all
MoQ Transport versions. All other messages use a version-specific namespace. For
example, the integer '1' can refer to different parameters for Setup messages
and for all other message types.<a href="#section-6.1-6" class="pilcrow">¶</a></p>
<p id="section-6.1-7">SETUP message parameter types are defined in <a href="#setup-params" class="auto internal xref">Section 6.2.2</a>. Version-
specific parameter types are defined in <a href="#version-specific-params" class="auto internal xref">Section 6.1.1</a>.<a href="#section-6.1-7" class="pilcrow">¶</a></p>
<p id="section-6.1-8">The Parameter Length field of the String Parameter encodes the length
of the Parameter Value field in bytes.<a href="#section-6.1-8" class="pilcrow">¶</a></p>
<p id="section-6.1-9">Each parameter description will indicate the data type in the Parameter Value
field. If a receiver understands a parameter type, and the parameter length
implied by that type does not match the Parameter Length field, the receiver
<span class="bcp14">MUST</span> terminate the session with error code 'Parameter Length Mismatch'.<a href="#section-6.1-9" class="pilcrow">¶</a></p>
<div id="version-specific-params">
<section id="section-6.1.1">
          <h4 id="name-version-specific-parameters">
<a href="#section-6.1.1" class="section-number selfRef">6.1.1. </a><a href="#name-version-specific-parameters" class="section-name selfRef">Version Specific Parameters</a>
          </h4>
<p id="section-6.1.1-1">Each version-specific parameter definition indicates the message types in which
it can appear. If it appears in some other type of message, it <span class="bcp14">MUST</span> be ignored.
Note that since Setup parameters use a separate namespace, it is impossible for
these parameters to appear in Setup messages.<a href="#section-6.1.1-1" class="pilcrow">¶</a></p>
<div id="authorization-info">
<section id="section-6.1.1.1">
            <h5 id="name-authorization-info-paramete">
<a href="#section-6.1.1.1" class="section-number selfRef">6.1.1.1. </a><a href="#name-authorization-info-paramete" class="section-name selfRef">AUTHORIZATION INFO Parameter</a>
            </h5>
<p id="section-6.1.1.1-1">AUTHORIZATION INFO parameter (key 0x02) identifies a track's authorization
information in a SUBSCRIBE or ANNOUNCE message. This parameter is populated for
cases where the authorization is required at the track level. The value is an
ASCII string.<a href="#section-6.1.1.1-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="message-setup">
<section id="section-6.2">
        <h3 id="name-client_setup-and-server_set">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-client_setup-and-server_set" class="section-name selfRef">CLIENT_SETUP and SERVER_SETUP</a>
        </h3>
<p id="section-6.2-1">The <code>CLIENT_SETUP</code> and <code>SERVER_SETUP</code> messages are the first messages exchanged
by the client and the server; they allows the peers to establish the mutually
supported version and agree on the initial configuration before any objects are
exchanged. It is a sequence of key-value pairs called Setup parameters; the
semantics and format of which can vary based on whether the client or server is
sending.  To ensure future extensibility of MOQT, the peers <span class="bcp14">MUST</span> ignore unknown
setup parameters. TODO: describe GREASE for those.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2-2">The wire format of the Setup messages are as follows:<a href="#section-6.2-2" class="pilcrow">¶</a></p>
<span id="name-moqt-setup-messages"></span><div id="moq-transport-setup-format">
<figure id="figure-3">
          <div class="alignLeft art-text artwork" id="section-6.2-3.1">
<pre>
CLIENT_SETUP Message Payload {
  Number of Supported Versions (i),
  Supported Version (i) ...,
  Number of Parameters (i) ...,
  Setup Parameters (..) ...,
}

SERVER_SETUP Message Payload {
  Selected Version (i),
  Number of Parameters (i) ...,
  Setup Parameters (..) ...,
}
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-moqt-setup-messages" class="selfRef">MOQT Setup Messages</a>
          </figcaption></figure>
</div>
<p id="section-6.2-4">The available versions and Setup parameters are detailed in the next sections.<a href="#section-6.2-4" class="pilcrow">¶</a></p>
<div id="setup-versions">
<section id="section-6.2.1">
          <h4 id="name-versions">
<a href="#section-6.2.1" class="section-number selfRef">6.2.1. </a><a href="#name-versions" class="section-name selfRef">Versions</a>
          </h4>
<p id="section-6.2.1-1">MoQ Transport versions are a 32-bit unsigned integer, encoded as a varint.
This version of the specification is identified by the number 0x00000001.
Versions with the most significant 16 bits of the version number cleared are
reserved for use in future IETF consensus documents.<a href="#section-6.2.1-1" class="pilcrow">¶</a></p>
<p id="section-6.2.1-2">The client offers the list of the protocol versions it supports; the
server <span class="bcp14">MUST</span> reply with one of the versions offered by the client. If the
server does not support any of the versions offered by the client, or
the client receives a server version that it did not offer, the
corresponding peer <span class="bcp14">MUST</span> close the session.<a href="#section-6.2.1-2" class="pilcrow">¶</a></p>
<p id="section-6.2.1-3">[[RFC editor: please remove the remainder of this section before
publication.]]<a href="#section-6.2.1-3" class="pilcrow">¶</a></p>
<p id="section-6.2.1-4">The version number for the final version of this specification (0x00000001), is
reserved for the version of the protocol that is published as an RFC.
Version numbers used to identify IETF drafts are created by adding the draft
number to 0xff000000. For example, draft-ietf-moq-transport-13 would be
identified as 0xff00000D.<a href="#section-6.2.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="setup-params">
<section id="section-6.2.2">
          <h4 id="name-setup-parameters">
<a href="#section-6.2.2" class="section-number selfRef">6.2.2. </a><a href="#name-setup-parameters" class="section-name selfRef">Setup Parameters</a>
          </h4>
<div id="role">
<section id="section-6.2.2.1">
            <h5 id="name-role-parameter">
<a href="#section-6.2.2.1" class="section-number selfRef">6.2.2.1. </a><a href="#name-role-parameter" class="section-name selfRef">ROLE parameter</a>
            </h5>
<p id="section-6.2.2.1-1">The ROLE parameter (key 0x00) allows each endpoint to independently specify what
functionality they support for the session. It has three possible values,
which are of type varint:<a href="#section-6.2.2.1-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6.2.2.1-2">
              <dt id="section-6.2.2.1-2.1">0x01: Publisher</dt>
              <dd style="margin-left: 1.5em" id="section-6.2.2.1-2.2">
                <p id="section-6.2.2.1-2.2.1">The endpoint can process subscriptions and send objects, but not subscribe.
The endpoint <span class="bcp14">MUST NOT</span> send a SUBSCRIBE message and an ANNOUNCE <span class="bcp14">MUST NOT</span> be
sent to it.<a href="#section-6.2.2.1-2.2.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
<dt id="section-6.2.2.1-2.3">0x02: Subscriber</dt>
              <dd style="margin-left: 1.5em" id="section-6.2.2.1-2.4">
                <p id="section-6.2.2.1-2.4.1">The endpoint can send subscriptions and receive objects, but not publish.
The endpoint <span class="bcp14">MUST NOT</span> send an ANNOUNCE message and a SUBSCRIBE <span class="bcp14">MUST NOT</span> be
sent to it.<a href="#section-6.2.2.1-2.4.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
<dt id="section-6.2.2.1-2.5">0x03: PubSub</dt>
              <dd style="margin-left: 1.5em" id="section-6.2.2.1-2.6">
                <p id="section-6.2.2.1-2.6.1">The endpoint can act as a publisher or subscriber, and can send or process
any message type.<a href="#section-6.2.2.1-2.6.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-6.2.2.1-3">Both endpoints <span class="bcp14">MUST</span> send a ROLE parameter with one of the three values
specified above. Both endpoints <span class="bcp14">MUST</span> close the session if the ROLE
parameter is missing or is not one of the three above-specified values.<a href="#section-6.2.2.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="path">
<section id="section-6.2.2.2">
            <h5 id="name-path-parameter">
<a href="#section-6.2.2.2" class="section-number selfRef">6.2.2.2. </a><a href="#name-path-parameter" class="section-name selfRef">PATH parameter</a>
            </h5>
<p id="section-6.2.2.2-1">The PATH parameter (key 0x01) allows the client to specify the path of
the MoQ URI when using native QUIC (<span>[<a href="#QUIC" class="cite xref">QUIC</a>]</span>).  It <span class="bcp14">MUST NOT</span> be used by
the server, or when WebTransport is used.  If the peer receives a PATH
parameter from the server, or when WebTransport is used, it <span class="bcp14">MUST</span> close
the connection. It follows the URI formatting rules <span>[<a href="#RFC3986" class="cite xref">RFC3986</a>]</span>.<a href="#section-6.2.2.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2.2.2-2">When connecting to a server using a URI with the "moq" scheme, the
client <span class="bcp14">MUST</span> set the PATH parameter to the <code>path-abempty</code> portion of the
URI; if <code>query</code> is present, the client <span class="bcp14">MUST</span> concatenate <code>?</code>, followed by
the <code>query</code> portion of the URI to the parameter.<a href="#section-6.2.2.2-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="message-goaway">
<section id="section-6.3">
        <h3 id="name-goaway">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-goaway" class="section-name selfRef">GOAWAY</a>
        </h3>
<p id="section-6.3-1">The server sends a <code>GOAWAY</code> message to initiate session migration
(<a href="#session-migration" class="auto internal xref">Section 3.6</a>) with an optional URI.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<p id="section-6.3-2">The server <span class="bcp14">MUST</span> terminate the session with a Protocol Violation
(<a href="#session-termination" class="auto internal xref">Section 3.5</a>) if it receives a GOAWAY message. The client <span class="bcp14">MUST</span>
terminate the session with a Protocol Violation (<a href="#session-termination" class="auto internal xref">Section 3.5</a>) if it
receives multiple GOAWAY messages.<a href="#section-6.3-2" class="pilcrow">¶</a></p>
<span id="name-moqt-goaway-message"></span><div id="moq-transport-goaway-format">
<figure id="figure-4">
          <div class="alignLeft art-text artwork" id="section-6.3-3.1">
<pre>
GOAWAY Message {
  New Session URI (b)
}
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-moqt-goaway-message" class="selfRef">MOQT GOAWAY Message</a>
          </figcaption></figure>
</div>
<ul class="normal">
<li class="normal" id="section-6.3-4.1">
            <p id="section-6.3-4.1.1">New Session URI: The client <span class="bcp14">MUST</span> use this URI for the new session if provided.
If the URI is zero bytes long, the current URI is reused instead. The new
session URI <span class="bcp14">SHOULD</span> use the same scheme as the current URL to ensure
compatibility.<a href="#section-6.3-4.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="message-subscribe-req">
<section id="section-6.4">
        <h3 id="name-subscribe">
<a href="#section-6.4" class="section-number selfRef">6.4. </a><a href="#name-subscribe" class="section-name selfRef">SUBSCRIBE</a>
        </h3>
<div id="sub-filter">
<section id="section-6.4.1">
          <h4 id="name-filter-types">
<a href="#section-6.4.1" class="section-number selfRef">6.4.1. </a><a href="#name-filter-types" class="section-name selfRef">Filter Types</a>
          </h4>
<p id="section-6.4.1-1">The subscriber specifies a filter on the subscription to allow
the publisher to identify which objects need to be delivered.<a href="#section-6.4.1-1" class="pilcrow">¶</a></p>
<p id="section-6.4.1-2">There are 4 types of filters:<a href="#section-6.4.1-2" class="pilcrow">¶</a></p>
<p id="section-6.4.1-3">Latest Group (0x1) : Specifies an open-ended subscription with objects
from the beginning of the current group.<a href="#section-6.4.1-3" class="pilcrow">¶</a></p>
<p id="section-6.4.1-4">Latest Object (0x2): Specifies an open-ended subscription beginning from
the current object of the current group.<a href="#section-6.4.1-4" class="pilcrow">¶</a></p>
<p id="section-6.4.1-5">AbsoluteStart (0x3):  Specifies an open-ended subscription beginning
from the object identified in the StartGroup and StartObject fields.<a href="#section-6.4.1-5" class="pilcrow">¶</a></p>
<p id="section-6.4.1-6">AbsoluteRange (0x4):  Specifies a closed subscription starting at StartObject
in StartGroup and ending at EndObject in EndGroup.  The start and end of the
range are inclusive.  EndGroup and EndObject <span class="bcp14">MUST</span> specify the same or a later
object than StartGroup and StartObject.<a href="#section-6.4.1-6" class="pilcrow">¶</a></p>
<p id="section-6.4.1-7">A filter type other than the above <span class="bcp14">MUST</span> be treated as error.<a href="#section-6.4.1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="subscribe-format">
<section id="section-6.4.2">
          <h4 id="name-subscribe-format">
<a href="#section-6.4.2" class="section-number selfRef">6.4.2. </a><a href="#name-subscribe-format" class="section-name selfRef">SUBSCRIBE Format</a>
          </h4>
<p id="section-6.4.2-1">A subscriber issues a SUBSCRIBE to a publisher to request a track.<a href="#section-6.4.2-1" class="pilcrow">¶</a></p>
<p id="section-6.4.2-2">The format of SUBSCRIBE is as follows:<a href="#section-6.4.2-2" class="pilcrow">¶</a></p>
<span id="name-moqt-subscribe-message"></span><div id="moq-transport-subscribe-format">
<figure id="figure-5">
            <div class="alignLeft art-text artwork" id="section-6.4.2-3.1">
<pre>
SUBSCRIBE Message {
  Subscribe ID (i),
  Track Alias (i),
  Track Namespace (b),
  Track Name (b),
  Subscriber Priority (8),
  Group Order (8),
  Filter Type (i),
  [StartGroup (i),
   StartObject (i)],
  [EndGroup (i),
   EndObject (i)],
  Number of Parameters (i),
  Subscribe Parameters (..) ...
}
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-moqt-subscribe-message" class="selfRef">MOQT SUBSCRIBE Message</a>
            </figcaption></figure>
</div>
<ul class="normal">
<li class="normal" id="section-6.4.2-4.1">
              <p id="section-6.4.2-4.1.1">Subscribe ID: The subscription identifier that is unique within the session.
<code>Subscribe ID</code> is a monotonically increasing variable length integer which
<span class="bcp14">MUST</span> not be reused within a session. <code>Subscribe ID</code> is used by subscribers and
the publishers to identify a given subscription. Subscribers specify the
<code>Subscribe ID</code> and it is included in the corresponding SUBSCRIBE_OK or
SUBSCRIBE_ERROR messages.<a href="#section-6.4.2-4.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.4.2-4.2">
              <p id="section-6.4.2-4.2.1">Track Alias: A session specific identifier for the track.
Messages that reference a track, such as OBJECT (<a href="#message-object" class="auto internal xref">Section 6.11</a>),
reference this Track Alias instead of the Track Name and Track Namespace to
reduce overhead. If the Track Alias is already being used for a different track, the publisher <span class="bcp14">MUST</span> close the session with a Duplicate Track Alias error (<a href="#session-termination" class="auto internal xref">Section 3.5</a>).<a href="#section-6.4.2-4.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.4.2-4.3">
              <p id="section-6.4.2-4.3.1">Track Namespace: Identifies the namespace of the track as defined in
(<a href="#track-name" class="auto internal xref">Section 2.3.1</a>).<a href="#section-6.4.2-4.3.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.4.2-4.4">
              <p id="section-6.4.2-4.4.1">Track Name: Identifies the track name as defined in (<a href="#track-name" class="auto internal xref">Section 2.3.1</a>).<a href="#section-6.4.2-4.4.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.4.2-4.5">
              <p id="section-6.4.2-4.5.1">Subscriber Priority: Specifies the priority of a subscription relative to
other subscriptions in the same session. Lower numbers get higher priority.
See <a href="#priorities" class="auto internal xref">Section 4</a>.<a href="#section-6.4.2-4.5.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.4.2-4.6">
              <p id="section-6.4.2-4.6.1">Group Order: Allows the subscriber to request Objects be delivered in
Ascending (0x1) or Descending (0x2) order by group. See <a href="#priorities" class="auto internal xref">Section 4</a>.
A value of 0x0 indicates the original publisher's Group Order <span class="bcp14">SHOULD</span> be
used. Values larger than 0x2 are a protocol error.<a href="#section-6.4.2-4.6.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.4.2-4.7">
              <p id="section-6.4.2-4.7.1">Filter Type: Identifies the type of filter, which also indicates whether
the StartGroup/StartObject and EndGroup/EndObject fields will be present.
See (<a href="#sub-filter" class="auto internal xref">Section 6.4.1</a>).<a href="#section-6.4.2-4.7.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.4.2-4.8">
              <p id="section-6.4.2-4.8.1">StartGroup: The start Group ID. Only present for "AbsoluteStart" and
"AbsoluteRange" filter types.<a href="#section-6.4.2-4.8.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.4.2-4.9">
              <p id="section-6.4.2-4.9.1">StartObject: The start Object ID. Only present for "AbsoluteStart" and
"AbsoluteRange" filter types.<a href="#section-6.4.2-4.9.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.4.2-4.10">
              <p id="section-6.4.2-4.10.1">EndGroup: The end Group ID. Only present for the "AbsoluteRange" filter type.<a href="#section-6.4.2-4.10.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.4.2-4.11">
              <p id="section-6.4.2-4.11.1">EndObject: The end Object ID, plus 1. A value of 0 means the entire group is
requested. Only present for the "AbsoluteRange" filter type.<a href="#section-6.4.2-4.11.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.4.2-4.12">
              <p id="section-6.4.2-4.12.1">Subscribe Parameters: The parameters are defined in <a href="#version-specific-params" class="auto internal xref">Section 6.1.1</a>.<a href="#section-6.4.2-4.12.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-6.4.2-5">On successful subscription, the publisher <span class="bcp14">MUST</span> reply with a SUBSCRIBE_OK,
allowing the subscriber to determine the start group/object when not explicitly
specified and the publisher <span class="bcp14">SHOULD</span> start delivering objects.<a href="#section-6.4.2-5" class="pilcrow">¶</a></p>
<p id="section-6.4.2-6">If a publisher cannot satisfy the requested start or end for the subscription it
<span class="bcp14">MAY</span> send a SUBSCRIBE_ERROR with code 'Invalid Range'. A publisher <span class="bcp14">MUST NOT</span> send
objects from outside the requested start and end.<a href="#section-6.4.2-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="message-subscribe-update-req">
<section id="section-6.5">
        <h3 id="name-subscribe_update">
<a href="#section-6.5" class="section-number selfRef">6.5. </a><a href="#name-subscribe_update" class="section-name selfRef">SUBSCRIBE_UPDATE</a>
        </h3>
<p id="section-6.5-1">A subscriber issues a SUBSCRIBE_UPDATE to a publisher to request a change to
a prior subscription.  Subscriptions can only become more narrower, not wider,
because an attempt to widen a subscription could fail.  If Objects before the
start or after the end of the current subscription are needed, a separate
subscription can be made. The start Object <span class="bcp14">MUST NOT</span> decrease and when it increases,
there is no guarantee that a publisher will not have already sent Objects before
the new start Object.  The end Object <span class="bcp14">MUST NOT</span> increase and when it decreases,
there is no guarantee that a publisher will not have already sent Objects after
the new end Object. A publisher <span class="bcp14">SHOULD</span> close the Session as a 'Protocol Violation'
if the SUBSCRIBE_UPDATE violates either rule or if the subscriber specifies a
Subscribe ID that does not exist within the Session.<a href="#section-6.5-1" class="pilcrow">¶</a></p>
<p id="section-6.5-2">Unlike a new subscription, SUBSCRIBE_UPDATE can not cause an Object to be
delivered multiple times.  Like SUBSCRIBE, EndGroup and EndObject <span class="bcp14">MUST</span> specify the
same or a later object than StartGroup and StartObject.<a href="#section-6.5-2" class="pilcrow">¶</a></p>
<p id="section-6.5-3">The format of SUBSCRIBE_UPDATE is as follows:<a href="#section-6.5-3" class="pilcrow">¶</a></p>
<span id="name-moqt-subscribe_update-messa"></span><div id="moq-transport-subscribe-update-format">
<figure id="figure-6">
          <div class="alignLeft art-text artwork" id="section-6.5-4.1">
<pre>
SUBSCRIBE_UPDATE Message {
  Subscribe ID (i),
  StartGroup (i),
  StartObject (i),
  EndGroup (i),
  EndObject (i),
  Subscriber Priority (8),
  Number of Parameters (i),
  Subscribe Parameters (..) ...
}
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-moqt-subscribe_update-messa" class="selfRef">MOQT SUBSCRIBE_UPDATE Message</a>
          </figcaption></figure>
</div>
<ul class="normal">
<li class="normal" id="section-6.5-5.1">
            <p id="section-6.5-5.1.1">Subscribe ID: The subscription identifier that is unique within the session.
This <span class="bcp14">MUST</span> match an existing Subscribe ID.<a href="#section-6.5-5.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.5-5.2">
            <p id="section-6.5-5.2.1">StartGroup: The start Group ID.<a href="#section-6.5-5.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.5-5.3">
            <p id="section-6.5-5.3.1">StartObject: The start Object ID.<a href="#section-6.5-5.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.5-5.4">
            <p id="section-6.5-5.4.1">EndGroup: The end Group ID, plus 1. A value of 0 means the subscription is
open-ended.<a href="#section-6.5-5.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.5-5.5">
            <p id="section-6.5-5.5.1">EndObject: The end Object ID, plus 1. A value of 0 means the entire group is
requested.<a href="#section-6.5-5.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.5-5.6">
            <p id="section-6.5-5.6.1">Subscriber Priority: Specifies the priority of a subscription relative to
other subscriptions in the same session. Lower numbers get higher priority.
See <a href="#priorities" class="auto internal xref">Section 4</a>.<a href="#section-6.5-5.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.5-5.7">
            <p id="section-6.5-5.7.1">Subscribe Parameters: The parameters are defined in <a href="#version-specific-params" class="auto internal xref">Section 6.1.1</a>.<a href="#section-6.5-5.7.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="message-unsubscribe">
<section id="section-6.6">
        <h3 id="name-unsubscribe">
<a href="#section-6.6" class="section-number selfRef">6.6. </a><a href="#name-unsubscribe" class="section-name selfRef">UNSUBSCRIBE</a>
        </h3>
<p id="section-6.6-1">A subscriber issues a <code>UNSUBSCRIBE</code> message to a publisher indicating it is no
longer interested in receiving media for the specified track and Objects
should stop being sent as soon as possible.  The publisher sends a
SUBSCRIBE_DONE to acknowledge the unsubscribe was successful and indicate
the final Object.<a href="#section-6.6-1" class="pilcrow">¶</a></p>
<p id="section-6.6-2">The format of <code>UNSUBSCRIBE</code> is as follows:<a href="#section-6.6-2" class="pilcrow">¶</a></p>
<span id="name-moqt-unsubscribe-message"></span><div id="moq-transport-unsubscribe-format">
<figure id="figure-7">
          <div class="alignLeft art-text artwork" id="section-6.6-3.1">
<pre>
UNSUBSCRIBE Message {
  Subscribe ID (i)
}
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-moqt-unsubscribe-message" class="selfRef">MOQT UNSUBSCRIBE Message</a>
          </figcaption></figure>
</div>
<ul class="normal">
<li class="normal" id="section-6.6-4.1">
            <p id="section-6.6-4.1.1">Subscribe ID: Subscription Identifier as defined in <a href="#message-subscribe-req" class="auto internal xref">Section 6.4</a>.<a href="#section-6.6-4.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="message-announce-ok">
<section id="section-6.7">
        <h3 id="name-announce_ok">
<a href="#section-6.7" class="section-number selfRef">6.7. </a><a href="#name-announce_ok" class="section-name selfRef">ANNOUNCE_OK</a>
        </h3>
<p id="section-6.7-1">The subscriber sends an ANNOUNCE_OK control message to acknowledge the
successful authorization and acceptance of an ANNOUNCE message.<a href="#section-6.7-1" class="pilcrow">¶</a></p>
<span id="name-moqt-announce_ok-message"></span><div id="moq-transport-announce-ok">
<figure id="figure-8">
          <div class="alignLeft art-text artwork" id="section-6.7-2.1">
<pre>
ANNOUNCE_OK
{
  Track Namespace (b),
}
</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-moqt-announce_ok-message" class="selfRef">MOQT ANNOUNCE_OK Message</a>
          </figcaption></figure>
</div>
<ul class="normal">
<li class="normal" id="section-6.7-3.1">
            <p id="section-6.7-3.1.1">Track Namespace: Identifies the track namespace in the ANNOUNCE
message for which this response is provided.<a href="#section-6.7-3.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="message-announce-error">
<section id="section-6.8">
        <h3 id="name-announce_error">
<a href="#section-6.8" class="section-number selfRef">6.8. </a><a href="#name-announce_error" class="section-name selfRef">ANNOUNCE_ERROR</a>
        </h3>
<p id="section-6.8-1">The subscriber sends an ANNOUNCE_ERROR control message for tracks that
failed authorization.<a href="#section-6.8-1" class="pilcrow">¶</a></p>
<span id="name-moqt-announce_error-message"></span><div id="moq-transport-announce-error">
<figure id="figure-9">
          <div class="alignLeft art-text artwork" id="section-6.8-2.1">
<pre>
ANNOUNCE_ERROR
{
  Track Namespace (b),
  Error Code (i),
  Reason Phrase (b),
}
</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-moqt-announce_error-message" class="selfRef">MOQT ANNOUNCE_ERROR Message</a>
          </figcaption></figure>
</div>
<ul class="normal">
<li class="normal" id="section-6.8-3.1">
            <p id="section-6.8-3.1.1">Track Namespace: Identifies the track namespace in the ANNOUNCE
message for which this response is provided.<a href="#section-6.8-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.8-3.2">
            <p id="section-6.8-3.2.1">Error Code: Identifies an integer error code for announcement failure.<a href="#section-6.8-3.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.8-3.3">
            <p id="section-6.8-3.3.1">Reason Phrase: Provides the reason for announcement error.<a href="#section-6.8-3.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="message-announce-cancel">
<section id="section-6.9">
        <h3 id="name-announce_cancel">
<a href="#section-6.9" class="section-number selfRef">6.9. </a><a href="#name-announce_cancel" class="section-name selfRef">ANNOUNCE_CANCEL</a>
        </h3>
<p id="section-6.9-1">The subscriber sends an <code>ANNOUNCE_CANCEL</code> control message to
indicate it will stop sending new subscriptions for tracks
within the provided Track Namespace.<a href="#section-6.9-1" class="pilcrow">¶</a></p>
<p id="section-6.9-2">If a publisher receives new subscriptions for that namespace after
receiving an ANNOUNCE_CANCEL, it <span class="bcp14">SHOULD</span> close the session as a
'Protocol Violation'.<a href="#section-6.9-2" class="pilcrow">¶</a></p>
<span id="name-moqt-announce_cancel-messag"></span><div id="moq-transport-announce-cancel-format">
<figure id="figure-10">
          <div class="alignLeft art-text artwork" id="section-6.9-3.1">
<pre>
ANNOUNCE_CANCEL Message {
  Track Namespace (b),
}
</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a>:
<a href="#name-moqt-announce_cancel-messag" class="selfRef">MOQT ANNOUNCE_CANCEL Message</a>
          </figcaption></figure>
</div>
<ul class="normal">
<li class="normal" id="section-6.9-4.1">
            <p id="section-6.9-4.1.1">Track Namespace: Identifies a track's namespace as defined in
(<a href="#track-name" class="auto internal xref">Section 2.3.1</a>).<a href="#section-6.9-4.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="message-track-status-req">
<section id="section-6.10">
        <h3 id="name-track_status_request">
<a href="#section-6.10" class="section-number selfRef">6.10. </a><a href="#name-track_status_request" class="section-name selfRef">TRACK_STATUS_REQUEST</a>
        </h3>
<p id="section-6.10-1">A potential subscriber sends a 'TRACK_STATUS_REQUEST' message on the control
stream to obtain information about the current status of a given track.<a href="#section-6.10-1" class="pilcrow">¶</a></p>
<p id="section-6.10-2">A TRACK_STATUS message <span class="bcp14">MUST</span> be sent in response to each TRACK_STATUS_REQUEST.<a href="#section-6.10-2" class="pilcrow">¶</a></p>
<span id="name-moqt-track_status_request-m"></span><div id="moq-track-status-request-format">
<figure id="figure-11">
          <div class="alignLeft art-text artwork" id="section-6.10-3.1">
<pre>
TRACK_STATUS_REQUEST Message {
  Track Namespace (b),
  Track Name (b),
}
</pre>
</div>
<figcaption><a href="#figure-11" class="selfRef">Figure 11</a>:
<a href="#name-moqt-track_status_request-m" class="selfRef">MOQT TRACK_STATUS_REQUEST Message</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="message-object">
<section id="section-6.11">
        <h3 id="name-object">
<a href="#section-6.11" class="section-number selfRef">6.11. </a><a href="#name-object" class="section-name selfRef">OBJECT</a>
        </h3>
<p id="section-6.11-1">An OBJECT message contains a range of contiguous bytes from from the
specified track, as well as associated metadata required to deliver,
cache, and forward it.  Objects are sent by publishers.<a href="#section-6.11-1" class="pilcrow">¶</a></p>
<div id="canonical-object-fields">
<section id="section-6.11.1">
          <h4 id="name-canonical-object-fields">
<a href="#section-6.11.1" class="section-number selfRef">6.11.1. </a><a href="#name-canonical-object-fields" class="section-name selfRef">Canonical Object Fields</a>
          </h4>
<p id="section-6.11.1-1">A canonical MoQ Object has the following information:<a href="#section-6.11.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.11.1-2.1">
              <p id="section-6.11.1-2.1.1">Track Namespace and Track Name: The track this object belongs to.<a href="#section-6.11.1-2.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.11.1-2.2">
              <p id="section-6.11.1-2.2.1">Group ID: The object is a member of the indicated group ID
<a href="#model-group" class="auto internal xref">Section 2.2</a> within the track.<a href="#section-6.11.1-2.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.11.1-2.3">
              <p id="section-6.11.1-2.3.1">Object ID: The order of the object within the group.  The
IDs starts at 0, increasing sequentially for each object within the
group.<a href="#section-6.11.1-2.3.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.11.1-2.4">
              <p id="section-6.11.1-2.4.1">Publisher Priority: An 8 bit integer indicating the publisher's priority for
the Object <a href="#priorities" class="auto internal xref">Section 4</a>.<a href="#section-6.11.1-2.4.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.11.1-2.5">
              <p id="section-6.11.1-2.5.1">Object Forwarding Preference: An enumeration indicating how a publisher sends
an object. The preferences are Track, Group, Object and Datagram.  An Object
<span class="bcp14">MUST</span> be sent according to its <code>Object Forwarding Preference</code>, described below.<a href="#section-6.11.1-2.5.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.11.1-2.6">
              <p id="section-6.11.1-2.6.1">Object Status: As enumeration used to indicate missing
objects or mark the end of a group or track. See <a href="#object-status" class="auto internal xref">Section 6.11.1.1</a> below.<a href="#section-6.11.1-2.6.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.11.1-2.7">
              <p id="section-6.11.1-2.7.1">Object Payload: An opaque payload intended for an End Subscriber and <span class="bcp14">SHOULD NOT</span> be processed by a relay. Only present when 'Object Status' is Normal (0x0).<a href="#section-6.11.1-2.7.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<div id="object-status">
<section id="section-6.11.1.1">
            <h5 id="name-object-status">
<a href="#section-6.11.1.1" class="section-number selfRef">6.11.1.1. </a><a href="#name-object-status" class="section-name selfRef">Object Status</a>
            </h5>
<p id="section-6.11.1.1-1">The Object Status informs subscribers what objects will not be received
because they were never produced, are no longer available, or because they
are beyond the end of a group or track.<a href="#section-6.11.1.1-1" class="pilcrow">¶</a></p>
<p id="section-6.11.1.1-2"><code>Status</code> can have following values:<a href="#section-6.11.1.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.11.1.1-3.1">
                <p id="section-6.11.1.1-3.1.1">0x0 := Normal object. The payload is array of bytes and can be empty.<a href="#section-6.11.1.1-3.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.11.1.1-3.2">
                <p id="section-6.11.1.1-3.2.1">0x1 := Indicates Object does not exist. Indicates that this object
       does not exist at any publisher and it will not be published in
       the future. This <span class="bcp14">SHOULD</span> be cached.<a href="#section-6.11.1.1-3.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.11.1.1-3.3">
                <p id="section-6.11.1.1-3.3.1">0x2 := Indicates Group does not exist. Indicates that objects with
       this GroupID do not exist at any publisher and they will not be
       published in the future. This <span class="bcp14">SHOULD</span> be cached.<a href="#section-6.11.1.1-3.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.11.1.1-3.4">
                <p id="section-6.11.1.1-3.4.1">0x3 := Indicates end of Group. ObjectId is one greater that the
       largest object produced in the group identified by the
       GroupID. This is sent right after the last object in the
       group. This <span class="bcp14">SHOULD</span> be cached.<a href="#section-6.11.1.1-3.4.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.11.1.1-3.5">
                <p id="section-6.11.1.1-3.5.1">0x4 := Indicates end of Track and Group. GroupID is one greater than
       the largest group produced in this track and the ObjectId is
       one greater than the largest object produced in that
       group. This is sent right after the last object in the
       track. This <span class="bcp14">SHOULD</span> be cached.<a href="#section-6.11.1.1-3.5.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-6.11.1.1-4">Any other value <span class="bcp14">SHOULD</span> be treated as a protocol error and terminate the
session with a Protocol Violation (<a href="#session-termination" class="auto internal xref">Section 3.5</a>).
Any object with a status code other than zero <span class="bcp14">MUST</span> have an empty payload.<a href="#section-6.11.1.1-4" class="pilcrow">¶</a></p>
<p id="section-6.11.1.1-5">Though some status information could be inferred from QUIC stream state,
that information is not reliable and cacheable.<a href="#section-6.11.1.1-5" class="pilcrow">¶</a></p>
<p id="section-6.11.1.1-6">In most cases, messages with a non zero status code are sent on the same
stream that an object with that GroupID would have been sent on. The
exception to this is when that stream has been reset; in that case they
are sent on a new stream. This is to avoid the status message being lost
in cases such as a relay dropping a group and reseting the stream the
group is being sent on.<a href="#section-6.11.1.1-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="object-message-formats">
<section id="section-6.11.2">
          <h4 id="name-object-message-formats">
<a href="#section-6.11.2" class="section-number selfRef">6.11.2. </a><a href="#name-object-message-formats" class="section-name selfRef">Object Message Formats</a>
          </h4>
<p id="section-6.11.2-1">Every Track has a single 'Object Forwarding Preference' and the Original
Publisher <span class="bcp14">MUST NOT</span> mix different forwarding preferences within a single track.
If a subscriber receives different forwarding preferences for a track, it
<span class="bcp14">SHOULD</span> close the session with an error of 'Protocol Violation'.<a href="#section-6.11.2-1" class="pilcrow">¶</a></p>
<p id="section-6.11.2-2"><strong>Object Stream Message</strong><a href="#section-6.11.2-2" class="pilcrow">¶</a></p>
<p id="section-6.11.2-3">An <code>OBJECT_STREAM</code> message carries a single object on a stream.  An
<code>OBJECT_STREAM</code> message <span class="bcp14">MUST</span> be the first and only message on a unidirectional
stream.<a href="#section-6.11.2-3" class="pilcrow">¶</a></p>
<p id="section-6.11.2-4">An Object received in an <code>OBJECT_STREAM</code> message has an <code>Object Forwarding
Preference</code> = <code>Object</code>.<a href="#section-6.11.2-4" class="pilcrow">¶</a></p>
<p id="section-6.11.2-5">To send an Object with <code>Object Forwarding Preference</code> = <code>Object</code>, open a stream,
serialize object fields below, and terminate the stream.<a href="#section-6.11.2-5" class="pilcrow">¶</a></p>
<span id="name-moqt-object_stream-message"></span><div id="moq-transport-object-stream-format">
<figure id="figure-12">
            <div class="alignLeft art-text artwork" id="section-6.11.2-6.1">
<pre>
OBJECT_STREAM Message {
  Subscribe ID (i),
  Track Alias (i),
  Group ID (i),
  Object ID (i),
  Publisher Priority (8),
  Object Payload Length (i),
  [Object Status (i)],
  Object Payload (..),
}
</pre>
</div>
<figcaption><a href="#figure-12" class="selfRef">Figure 12</a>:
<a href="#name-moqt-object_stream-message" class="selfRef">MOQT OBJECT_STREAM Message</a>
            </figcaption></figure>
</div>
<ul class="normal">
<li class="normal" id="section-6.11.2-7.1">
              <p id="section-6.11.2-7.1.1">Subscribe ID: Subscription Identifier as defined in <a href="#message-subscribe-req" class="auto internal xref">Section 6.4</a>.<a href="#section-6.11.2-7.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.11.2-7.2">
              <p id="section-6.11.2-7.2.1">Track Alias: Identifies the Track Namespace and Track Name as defined in
<a href="#message-subscribe-req" class="auto internal xref">Section 6.4</a>.<a href="#section-6.11.2-7.2.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-6.11.2-8">If the Track Namespace and Track Name identified by the Track Alias are
different from those specified in the subscription identified by Subscribe ID,
the subscriber <span class="bcp14">MUST</span> close the session with a Protocol Violation.<a href="#section-6.11.2-8" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.11.2-9.1">
              <p id="section-6.11.2-9.1.1">Other fields: As described in <a href="#canonical-object-fields" class="auto internal xref">Section 6.11.1</a>.<a href="#section-6.11.2-9.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-6.11.2-10"><strong>Object Datagram Message</strong><a href="#section-6.11.2-10" class="pilcrow">¶</a></p>
<p id="section-6.11.2-11">An <code>OBJECT_DATAGRAM</code> message carries a single object in a datagram.<a href="#section-6.11.2-11" class="pilcrow">¶</a></p>
<p id="section-6.11.2-12">An Object received in an <code>OBJECT_DATAGRAM</code> message has an <code>Object
Forwarding Preference</code> = <code>Datagram</code>. To send an Object with <code>Object
Forwarding Preference</code> = <code>Datagram</code>, determine the length of the fields and
payload and send the Object as datagram. In certain scenarios where the object
size can be larger than maximum datagram size for the session, the Object
will be dropped.<a href="#section-6.11.2-12" class="pilcrow">¶</a></p>
<span id="name-moqt-object_datagram-messag"></span><div id="object-datagram-format">
<figure id="figure-13">
            <div class="alignLeft art-text artwork" id="section-6.11.2-13.1">
<pre>
OBJECT_DATAGRAM Message {
  Subscribe ID (i),
  Track Alias (i),
  Group ID (i),
  Object ID (i),
  Publisher Priority (8),
  Object Payload Length (i),
  [Object Status (i)],
  Object Payload (..),
}
</pre>
</div>
<figcaption><a href="#figure-13" class="selfRef">Figure 13</a>:
<a href="#name-moqt-object_datagram-messag" class="selfRef">MOQT OBJECT_DATAGRAM Message</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="multi-object-streams">
<section id="section-6.11.3">
          <h4 id="name-multi-object-streams">
<a href="#section-6.11.3" class="section-number selfRef">6.11.3. </a><a href="#name-multi-object-streams" class="section-name selfRef">Multi-Object Streams</a>
          </h4>
<p id="section-6.11.3-1">When multiple objects are sent on a stream, the stream begins with a stream
header message and is followed by one or more sets of serialized object fields.
If a stream ends gracefully in the middle of a serialized Object, terminate the
session with a Protocol Violation.<a href="#section-6.11.3-1" class="pilcrow">¶</a></p>
<p id="section-6.11.3-2">A publisher <span class="bcp14">SHOULD NOT</span> open more than one multi-object stream at a time with the
same stream header message type and fields.<a href="#section-6.11.3-2" class="pilcrow">¶</a></p>
<p id="section-6.11.3-3">TODO: figure out how a relay closes these streams<a href="#section-6.11.3-3" class="pilcrow">¶</a></p>
<p id="section-6.11.3-4"><strong>Stream Header Track</strong><a href="#section-6.11.3-4" class="pilcrow">¶</a></p>
<p id="section-6.11.3-5">When a stream begins with <code>STREAM_HEADER_TRACK</code>, all objects on the stream
belong to the track requested in the Subscribe message identified by <code>Subscribe
ID</code>.  All objects on the stream have the <code>Object Send Order</code> specified in the
stream header.<a href="#section-6.11.3-5" class="pilcrow">¶</a></p>
<span id="name-moqt-stream_header_track-me"></span><div id="stream-header-track-format">
<figure id="figure-14">
            <div class="alignLeft art-text artwork" id="section-6.11.3-6.1">
<pre>
STREAM_HEADER_TRACK Message {
  Subscribe ID (i)
  Track Alias (i),
  Publisher Priority (8),
}
</pre>
</div>
<figcaption><a href="#figure-14" class="selfRef">Figure 14</a>:
<a href="#name-moqt-stream_header_track-me" class="selfRef">MOQT STREAM_HEADER_TRACK Message</a>
            </figcaption></figure>
</div>
<p id="section-6.11.3-7">All Objects received on a stream opened with STREAM_HEADER_TRACK have an <code>Object
Forwarding Preference</code> = <code>Track</code>.<a href="#section-6.11.3-7" class="pilcrow">¶</a></p>
<p id="section-6.11.3-8">To send an Object with <code>Object Forwarding Preference</code> = <code>Track</code>, find the open
stream that is associated with the subscription, or open a new one and send the
<code>STREAM_HEADER_TRACK</code> if needed, then serialize the following object fields.
The Object Status field is only sent if the Object Payload Length is zero.<a href="#section-6.11.3-8" class="pilcrow">¶</a></p>
<span id="name-moqt-track-stream-object-fi"></span><div id="object-track-format">
<figure id="figure-15">
            <div class="alignLeft art-text artwork" id="section-6.11.3-9.1">
<pre>
{
  Group ID (i),
  Object ID (i),
  Object Payload Length (i),
  [Object Status (i)],
  Object Payload (..),
}
</pre>
</div>
<figcaption><a href="#figure-15" class="selfRef">Figure 15</a>:
<a href="#name-moqt-track-stream-object-fi" class="selfRef">MOQT Track Stream Object Fields</a>
            </figcaption></figure>
</div>
<p id="section-6.11.3-10"><strong>Stream Header Group</strong><a href="#section-6.11.3-10" class="pilcrow">¶</a></p>
<p id="section-6.11.3-11">A publisher <span class="bcp14">MUST NOT</span> send an Object on a stream if its Group ID is less than a
previously sent Group ID on that stream, or if its Object ID is less than or
equal to a previously sent Object ID within a given group on that stream.<a href="#section-6.11.3-11" class="pilcrow">¶</a></p>
<p id="section-6.11.3-12">When a stream begins with <code>STREAM_HEADER_GROUP</code>, all objects on the stream
belong to the track requested in the Subscribe message identified by <code>Subscribe
ID</code> and the group indicated by <code>Group ID</code>.  All objects on the stream
have the <code>Object Send Order</code> specified in the stream header.<a href="#section-6.11.3-12" class="pilcrow">¶</a></p>
<span id="name-moqt-stream_header_group-me"></span><div id="stream-header-group-format">
<figure id="figure-16">
            <div class="alignLeft art-text artwork" id="section-6.11.3-13.1">
<pre>
STREAM_HEADER_GROUP Message {
  Subscribe ID (i),
  Track Alias (i),
  Group ID (i),
  Publisher Priority (8),
}
</pre>
</div>
<figcaption><a href="#figure-16" class="selfRef">Figure 16</a>:
<a href="#name-moqt-stream_header_group-me" class="selfRef">MOQT STREAM_HEADER_GROUP Message</a>
            </figcaption></figure>
</div>
<p id="section-6.11.3-14">All Objects received on a stream opened with <code>STREAM_HEADER_GROUP</code> have an
<code>Object Forwarding Preference</code> = <code>Group</code>.<a href="#section-6.11.3-14" class="pilcrow">¶</a></p>
<p id="section-6.11.3-15">To send an Object with <code>Object Forwarding Preference</code> = <code>Group</code>, find the open
stream that is associated with the subscription, <code>Group ID</code> and <code>Object
Send Order</code>, or open a new one and send the <code>STREAM_HEADER_GROUP</code> if needed,
then serialize the following fields.
The Object Status field is only sent if the Object Payload Length is zero.<a href="#section-6.11.3-15" class="pilcrow">¶</a></p>
<span id="name-moqt-group-stream-object-fi"></span><div id="object-group-format">
<figure id="figure-17">
            <div class="alignLeft art-text artwork" id="section-6.11.3-16.1">
<pre>
{
  Object ID (i),
  Object Payload Length (i),
  [Object Status (i)],
  Object Payload (..),
}
</pre>
</div>
<figcaption><a href="#figure-17" class="selfRef">Figure 17</a>:
<a href="#name-moqt-group-stream-object-fi" class="selfRef">MOQT Group Stream Object Fields</a>
            </figcaption></figure>
</div>
<p id="section-6.11.3-17">A publisher <span class="bcp14">MUST NOT</span> send an Object on a stream if its Object ID is less than a
previously sent Object ID within a given group in that stream.<a href="#section-6.11.3-17" class="pilcrow">¶</a></p>
</section>
</div>
<div id="examples">
<section id="section-6.11.4">
          <h4 id="name-examples">
<a href="#section-6.11.4" class="section-number selfRef">6.11.4. </a><a href="#name-examples" class="section-name selfRef">Examples:</a>
          </h4>
<p id="section-6.11.4-1">Sending a track on one stream:<a href="#section-6.11.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.11.4-2">
<pre>
STREAM_HEADER_TRACK {
  Subscribe ID = 1
  Track Alias = 1
  Publisher Priority = 0
}
{
  Group ID = 0
  Object ID = 0
  Object Payload Length = 4
  Payload = "abcd"
}
{
  Group ID = 1
  Object ID = 0
  Object Payload Length = 4
  Payload = "efgh"
}
</pre><a href="#section-6.11.4-2" class="pilcrow">¶</a>
</div>
<p id="section-6.11.4-3">Sending a group on one stream, with a unordered object in the group appearing
on its own stream.<a href="#section-6.11.4-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.11.4-4">
<pre>
Stream = 2

STREAM_HEADER_GROUP {
  Subscribe ID = 2
  Track Alias = 2
  Group ID = 0
  Publisher Priority = 0
}
{
  Object ID = 0
  Object Payload Length = 4
  Payload = "abcd"
}
{
  Object ID = 1
  Object Payload Length = 4
  Payload = "efgh"
}

Stream = 6

OBJECT_STREAM {
  Subscribe ID = 3
  Track Alias = 3
  Group ID = 0
  Object ID = 1
  Object Send Order = 0
  Payload = "moqrocks"
}
</pre><a href="#section-6.11.4-4" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="message-subscribe-ok">
<section id="section-6.12">
        <h3 id="name-subscribe_ok">
<a href="#section-6.12" class="section-number selfRef">6.12. </a><a href="#name-subscribe_ok" class="section-name selfRef">SUBSCRIBE_OK</a>
        </h3>
<p id="section-6.12-1">A publisher sends a SUBSCRIBE_OK control message for successful
subscriptions.<a href="#section-6.12-1" class="pilcrow">¶</a></p>
<span id="name-moqt-subscribe_ok-message"></span><div id="moq-transport-subscribe-ok">
<figure id="figure-18">
          <div class="alignLeft art-text artwork" id="section-6.12-2.1">
<pre>
SUBSCRIBE_OK
{
  Subscribe ID (i),
  Expires (i),
  Group Order (8),
  ContentExists (f),
  [Largest Group ID (i)],
  [Largest Object ID (i)]
}
</pre>
</div>
<figcaption><a href="#figure-18" class="selfRef">Figure 18</a>:
<a href="#name-moqt-subscribe_ok-message" class="selfRef">MOQT SUBSCRIBE_OK Message</a>
          </figcaption></figure>
</div>
<ul class="normal">
<li class="normal" id="section-6.12-3.1">
            <p id="section-6.12-3.1.1">Subscribe ID: Subscription Identifier as defined in <a href="#message-subscribe-req" class="auto internal xref">Section 6.4</a>.<a href="#section-6.12-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.12-3.2">
            <p id="section-6.12-3.2.1">Expires: Time in milliseconds after which the subscription is no
longer valid. A value of 0 indicates that the subscription does not expire
or expires at an unknown time.  Expires is advisory and a subscription can
end prior to the expiry time or last longer.<a href="#section-6.12-3.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.12-3.3">
            <p id="section-6.12-3.3.1">Group Order: Indicates the subscription will be delivered in
Ascending (0x1) or Descending (0x2) order by group. See <a href="#priorities" class="auto internal xref">Section 4</a>.
Values of 0x0 and those larger than 0x2 are a protocol error.<a href="#section-6.12-3.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.12-3.4">
            <p id="section-6.12-3.4.1">ContentExists: 1 if an object has been published on this track, 0 if not.
If 0, then the Largest Group ID and Largest Object ID fields will not be
present.<a href="#section-6.12-3.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.12-3.5">
            <p id="section-6.12-3.5.1">Largest Group ID: the largest Group ID available for this track. This field
is only present if ContentExists has a value of 1.<a href="#section-6.12-3.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.12-3.6">
            <p id="section-6.12-3.6.1">Largest Object ID: the largest Object ID available within the largest Group ID
for this track. This field is only present if ContentExists has a value of 1.<a href="#section-6.12-3.6.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="message-subscribe-error">
<section id="section-6.13">
        <h3 id="name-subscribe_error">
<a href="#section-6.13" class="section-number selfRef">6.13. </a><a href="#name-subscribe_error" class="section-name selfRef">SUBSCRIBE_ERROR</a>
        </h3>
<p id="section-6.13-1">A publisher sends a SUBSCRIBE_ERROR control message in response to a
failed SUBSCRIBE.<a href="#section-6.13-1" class="pilcrow">¶</a></p>
<span id="name-moqt-subscribe_error-messag"></span><div id="moq-transport-subscribe-error">
<figure id="figure-19">
          <div class="alignLeft art-text artwork" id="section-6.13-2.1">
<pre>
SUBSCRIBE_ERROR
{
  Subscribe ID (i),
  Error Code (i),
  Reason Phrase (b),
  Track Alias (i),
}
</pre>
</div>
<figcaption><a href="#figure-19" class="selfRef">Figure 19</a>:
<a href="#name-moqt-subscribe_error-messag" class="selfRef">MOQT SUBSCRIBE_ERROR Message</a>
          </figcaption></figure>
</div>
<ul class="normal">
<li class="normal" id="section-6.13-3.1">
            <p id="section-6.13-3.1.1">Subscribe ID: Subscription Identifier as defined in <a href="#message-subscribe-req" class="auto internal xref">Section 6.4</a>.<a href="#section-6.13-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.13-3.2">
            <p id="section-6.13-3.2.1">Error Code: Identifies an integer error code for subscription failure.<a href="#section-6.13-3.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.13-3.3">
            <p id="section-6.13-3.3.1">Reason Phrase: Provides the reason for subscription error.<a href="#section-6.13-3.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.13-3.4">
            <p id="section-6.13-3.4.1">Track Alias: When Error Code is 'Retry Track Alias', the subscriber <span class="bcp14">SHOULD</span> re-issue the
SUBSCRIBE with this Track Alias instead. If this Track Alias is already in use,
the subscriber <span class="bcp14">MUST</span> close the connection with a Duplicate Track Alias error
(<a href="#session-termination" class="auto internal xref">Section 3.5</a>).<a href="#section-6.13-3.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="message-subscribe-done">
<section id="section-6.14">
        <h3 id="name-subscribe_done">
<a href="#section-6.14" class="section-number selfRef">6.14. </a><a href="#name-subscribe_done" class="section-name selfRef">SUBSCRIBE_DONE</a>
        </h3>
<p id="section-6.14-1">A publisher sends a <code>SUBSCRIBE_DONE</code> message to indicate it is done publishing
Objects for that subscription.  The Status Code indicates why the subscription ended,
and whether it was an error.<a href="#section-6.14-1" class="pilcrow">¶</a></p>
<p id="section-6.14-2">The format of <code>SUBSCRIBE_DONE</code> is as follows:<a href="#section-6.14-2" class="pilcrow">¶</a></p>
<span id="name-moqt-subscribe_done-message"></span><div id="moq-transport-subscribe-fin-format">
<figure id="figure-20">
          <div class="alignLeft art-text artwork" id="section-6.14-3.1">
<pre>
SUBSCRIBE_DONE Message {
  Subscribe ID (i),
  Status Code (i),
  Reason Phrase (b),
  ContentExists (f),
  [Final Group (i)],
  [Final Object (i)],
}
</pre>
</div>
<figcaption><a href="#figure-20" class="selfRef">Figure 20</a>:
<a href="#name-moqt-subscribe_done-message" class="selfRef">MOQT SUBSCRIBE_DONE Message</a>
          </figcaption></figure>
</div>
<ul class="normal">
<li class="normal" id="section-6.14-4.1">
            <p id="section-6.14-4.1.1">Subscribe ID: Subscription identifier as defined in <a href="#message-subscribe-req" class="auto internal xref">Section 6.4</a>.<a href="#section-6.14-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.14-4.2">
            <p id="section-6.14-4.2.1">Status Code: An integer status code indicating why the subscription ended.<a href="#section-6.14-4.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.14-4.3">
            <p id="section-6.14-4.3.1">Reason Phrase: Provides the reason for subscription error.<a href="#section-6.14-4.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.14-4.4">
            <p id="section-6.14-4.4.1">ContentExists: 1 if an object has been published for this subscription, 0 if
not. If 0, then the Final Group and Final Object fields will not be present.<a href="#section-6.14-4.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.14-4.5">
            <p id="section-6.14-4.5.1">Final Group: The largest Group ID sent by the publisher in an OBJECT
message in this track.<a href="#section-6.14-4.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.14-4.6">
            <p id="section-6.14-4.6.1">Final Object: The largest Object ID sent by the publisher in an OBJECT
message in the <code>Final Group</code> for this track.<a href="#section-6.14-4.6.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="message-announce">
<section id="section-6.15">
        <h3 id="name-announce">
<a href="#section-6.15" class="section-number selfRef">6.15. </a><a href="#name-announce" class="section-name selfRef">ANNOUNCE</a>
        </h3>
<p id="section-6.15-1">The publisher sends the ANNOUNCE control message to advertise where the
receiver can route SUBSCRIBEs for tracks within the announced
Track Namespace. The receiver verifies the publisher is authorized to
publish tracks under this namespace.<a href="#section-6.15-1" class="pilcrow">¶</a></p>
<span id="name-moqt-announce-message"></span><div id="moq-transport-announce-format">
<figure id="figure-21">
          <div class="alignLeft art-text artwork" id="section-6.15-2.1">
<pre>
ANNOUNCE Message {
  Track Namespace (b),
  Number of Parameters (i),
  Parameters (..) ...,
}
</pre>
</div>
<figcaption><a href="#figure-21" class="selfRef">Figure 21</a>:
<a href="#name-moqt-announce-message" class="selfRef">MOQT ANNOUNCE Message</a>
          </figcaption></figure>
</div>
<ul class="normal">
<li class="normal" id="section-6.15-3.1">
            <p id="section-6.15-3.1.1">Track Namespace: Identifies a track's namespace as defined in
(<a href="#track-name" class="auto internal xref">Section 2.3.1</a>)<a href="#section-6.15-3.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.15-3.2">
            <p id="section-6.15-3.2.1">Parameters: The parameters are defined in <a href="#version-specific-params" class="auto internal xref">Section 6.1.1</a>.<a href="#section-6.15-3.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="message-unannounce">
<section id="section-6.16">
        <h3 id="name-unannounce">
<a href="#section-6.16" class="section-number selfRef">6.16. </a><a href="#name-unannounce" class="section-name selfRef">UNANNOUNCE</a>
        </h3>
<p id="section-6.16-1">The publisher sends the <code>UNANNOUNCE</code> control message to indicate
its intent to stop serving new subscriptions for tracks
within the provided Track Namespace.<a href="#section-6.16-1" class="pilcrow">¶</a></p>
<span id="name-moqt-unannounce-message"></span><div id="moq-transport-unannounce-format">
<figure id="figure-22">
          <div class="alignLeft art-text artwork" id="section-6.16-2.1">
<pre>
UNANNOUNCE Message {
  Track Namespace (b),
}
</pre>
</div>
<figcaption><a href="#figure-22" class="selfRef">Figure 22</a>:
<a href="#name-moqt-unannounce-message" class="selfRef">MOQT UNANNOUNCE Message</a>
          </figcaption></figure>
</div>
<ul class="normal">
<li class="normal" id="section-6.16-3.1">
            <p id="section-6.16-3.1.1">Track Namespace: Identifies a track's namespace as defined in
(<a href="#track-name" class="auto internal xref">Section 2.3.1</a>).<a href="#section-6.16-3.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="message-track-status">
<section id="section-6.17">
        <h3 id="name-track_status">
<a href="#section-6.17" class="section-number selfRef">6.17. </a><a href="#name-track_status" class="section-name selfRef">TRACK_STATUS</a>
        </h3>
<p id="section-6.17-1">A publisher sends a 'TRACK_STATUS' message on the control stream in response
to a TRACK_STATUS_REQUEST message.<a href="#section-6.17-1" class="pilcrow">¶</a></p>
<span id="name-moqt-track_status-message"></span><div id="moq-track-status-format">
<figure id="figure-23">
          <div class="alignLeft art-text artwork" id="section-6.17-2.1">
<pre>
TRACK_STATUS Message {
  Track Namespace (b),
  Track Name (b),
  Status Code (i),
  Last Group ID (i),
  Last Object ID (i),
}
</pre>
</div>
<figcaption><a href="#figure-23" class="selfRef">Figure 23</a>:
<a href="#name-moqt-track_status-message" class="selfRef">MOQT TRACK_STATUS Message</a>
          </figcaption></figure>
</div>
<p id="section-6.17-3">The 'Status Code' field provides additional information about the status of the
track. It <span class="bcp14">MUST</span> hold one of the following values. Any other value is a malformed
message.<a href="#section-6.17-3" class="pilcrow">¶</a></p>
<p id="section-6.17-4">0x00: The track is in progress, and subsequent fields contain the highest group
and object ID for that track.<a href="#section-6.17-4" class="pilcrow">¶</a></p>
<p id="section-6.17-5">0x01: The track does not exist. Subsequent fields <span class="bcp14">MUST</span> be zero, and any other
value is a malformed message.<a href="#section-6.17-5" class="pilcrow">¶</a></p>
<p id="section-6.17-6">0x02: The track has not yet begun. Subsequent fields <span class="bcp14">MUST</span> be zero. Any other
value is a malformed message.<a href="#section-6.17-6" class="pilcrow">¶</a></p>
<p id="section-6.17-7">0x03: The track has finished, so there is no "live edge." Subsequent fields
contain the highest Group and object ID known.<a href="#section-6.17-7" class="pilcrow">¶</a></p>
<p id="section-6.17-8">0x04: The publisher is a relay that cannot obtain the current track status from
upstream. Subsequent fields contain the largest group and object ID known.<a href="#section-6.17-8" class="pilcrow">¶</a></p>
<p id="section-6.17-9">Any other value in the Status Code field is a malformed message.<a href="#section-6.17-9" class="pilcrow">¶</a></p>
<p id="section-6.17-10">When a relay is subscribed to a track, it can simply return the highest group
and object ID it has observed, whether or not that object was cached or
completely delivered. If not subscribed, a relay <span class="bcp14">SHOULD</span> send a
TRACK_STATUS_REQUEST upstream to obtain updated information.<a href="#section-6.17-10" class="pilcrow">¶</a></p>
<p id="section-6.17-11">Alternatively, the relay <span class="bcp14">MAY</span> subscribe to the track to obtain the same
information.<a href="#section-6.17-11" class="pilcrow">¶</a></p>
<p id="section-6.17-12">If a relay cannot or will not do either, it should return its best available
information with status code 0x04.<a href="#section-6.17-12" class="pilcrow">¶</a></p>
<p id="section-6.17-13">The receiver of multiple TRACK_STATUS messages for a track uses the information
from the latest arriving message, as they are delivered in order on a single
stream.<a href="#section-6.17-13" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="security">
<section id="section-7">
      <h2 id="name-security-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-7-1">TODO: Expand this section, including subscriptions.<a href="#section-7-1" class="pilcrow">¶</a></p>
<div id="resource-exhaustion">
<section id="section-7.1">
        <h3 id="name-resource-exhaustion">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-resource-exhaustion" class="section-name selfRef">Resource Exhaustion</a>
        </h3>
<p id="section-7.1-1">Live content requires significant bandwidth and resources.  Failure to
set limits will quickly cause resource exhaustion.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1-2">MOQT uses stream limits and flow control to impose resource limits at
the network layer.  Endpoints <span class="bcp14">SHOULD</span> set flow control limits based on the
anticipated bitrate.<a href="#section-7.1-2" class="pilcrow">¶</a></p>
<p id="section-7.1-3">Endpoints <span class="bcp14">MAY</span> impose a MAX STREAM count limit which would restrict the
number of concurrent streams which a MOQT Streaming Format could have in
flight.<a href="#section-7.1-3" class="pilcrow">¶</a></p>
<p id="section-7.1-4">The publisher prioritizes and transmits streams out of order.  Streams
might be starved indefinitely during congestion.  The publisher and
subscriber <span class="bcp14">MUST</span> cancel a stream, preferably the lowest priority, after
reaching a resource limit.<a href="#section-7.1-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="iana">
<section id="section-8">
      <h2 id="name-iana-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-8-1">TODO: fill out currently missing registries:<a href="#section-8-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8-2.1">
          <p id="section-8-2.1.1">MOQT version numbers<a href="#section-8-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-8-2.2">
          <p id="section-8-2.2.1">Setup parameters<a href="#section-8-2.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-8-2.3">
          <p id="section-8-2.3.1">Subscribe parameters<a href="#section-8-2.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-8-2.4">
          <p id="section-8-2.4.1">Subscribe Error codes<a href="#section-8-2.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-8-2.5">
          <p id="section-8-2.5.1">Announce Error codes<a href="#section-8-2.5.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-8-2.6">
          <p id="section-8-2.6.1">Message types<a href="#section-8-2.6.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-8-3">TODO: register the URI scheme and the ALPN<a href="#section-8-3" class="pilcrow">¶</a></p>
<p id="section-8-4">TODO: the MOQT spec should establish the IANA registration table for MoQ
Streaming Formats. Each MoQ streaming format can then register its type
in that table. The MoQ Streaming Format type <span class="bcp14">MUST</span> be carried as the
leading varint in catalog track objects.<a href="#section-8-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="contributors">
<section id="section-9">
      <h2 id="name-contributors">
<a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<ul class="normal">
<li class="normal" id="section-9-1.1">
          <p id="section-9-1.1.1">Alan Frindell<a href="#section-9-1.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-9-1.2">
          <p id="section-9-1.2.1">Ali Begen<a href="#section-9-1.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-9-1.3">
          <p id="section-9-1.3.1">Charles Krasic<a href="#section-9-1.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-9-1.4">
          <p id="section-9-1.4.1">Christian Huitema<a href="#section-9-1.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-9-1.5">
          <p id="section-9-1.5.1">Cullen Jennings<a href="#section-9-1.5.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-9-1.6">
          <p id="section-9-1.6.1">James Hurley<a href="#section-9-1.6.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-9-1.7">
          <p id="section-9-1.7.1">Jordi Cenzano<a href="#section-9-1.7.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-9-1.8">
          <p id="section-9-1.8.1">Mike English<a href="#section-9-1.8.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-9-1.9">
          <p id="section-9-1.9.1">Mo Zanaty<a href="#section-9-1.9.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-9-1.10">
          <p id="section-9-1.10.1">Will Law<a href="#section-9-1.10.1" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="sec-combined-references">
<section id="section-10">
      <h2 id="name-references">
<a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<div id="sec-normative-references">
<section id="section-10.1">
        <h3 id="name-normative-references">
<a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="QUIC">[QUIC]</dt>
        <dd>
<span class="refAuthor">Iyengar, J., Ed.</span> and <span class="refAuthor">M. Thomson, Ed.</span>, <span class="refTitle">"QUIC: A UDP-Based Multiplexed and Secure Transport"</span>, <span class="seriesInfo">RFC 9000</span>, <span class="seriesInfo">DOI 10.17487/RFC9000</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9000">https://www.rfc-editor.org/rfc/rfc9000</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3986">[RFC3986]</dt>
        <dd>
<span class="refAuthor">Berners-Lee, T.</span>, <span class="refAuthor">Fielding, R.</span>, and <span class="refAuthor">L. Masinter</span>, <span class="refTitle">"Uniform Resource Identifier (URI): Generic Syntax"</span>, <span class="seriesInfo">STD 66</span>, <span class="seriesInfo">RFC 3986</span>, <span class="seriesInfo">DOI 10.17487/RFC3986</span>, <time datetime="2005-01" class="refDate">January 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc3986">https://www.rfc-editor.org/rfc/rfc3986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7301">[RFC7301]</dt>
        <dd>
<span class="refAuthor">Friedl, S.</span>, <span class="refAuthor">Popov, A.</span>, <span class="refAuthor">Langley, A.</span>, and <span class="refAuthor">E. Stephan</span>, <span class="refTitle">"Transport Layer Security (TLS) Application-Layer Protocol Negotiation Extension"</span>, <span class="seriesInfo">RFC 7301</span>, <span class="seriesInfo">DOI 10.17487/RFC7301</span>, <time datetime="2014-07" class="refDate">July 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7301">https://www.rfc-editor.org/rfc/rfc7301</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8615">[RFC8615]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span>, <span class="refTitle">"Well-Known Uniform Resource Identifiers (URIs)"</span>, <span class="seriesInfo">RFC 8615</span>, <span class="seriesInfo">DOI 10.17487/RFC8615</span>, <time datetime="2019-05" class="refDate">May 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8615">https://www.rfc-editor.org/rfc/rfc8615</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9110">[RFC9110]</dt>
        <dd>
<span class="refAuthor">Fielding, R., Ed.</span>, <span class="refAuthor">Nottingham, M., Ed.</span>, and <span class="refAuthor">J. Reschke, Ed.</span>, <span class="refTitle">"HTTP Semantics"</span>, <span class="seriesInfo">STD 97</span>, <span class="seriesInfo">RFC 9110</span>, <span class="seriesInfo">DOI 10.17487/RFC9110</span>, <time datetime="2022-06" class="refDate">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9110">https://www.rfc-editor.org/rfc/rfc9110</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="WebTransport">[WebTransport]</dt>
      <dd>
<span class="refAuthor">Frindell, A.</span>, <span class="refAuthor">Kinnear, E.</span>, and <span class="refAuthor">V. Vasiliev</span>, <span class="refTitle">"WebTransport over HTTP/3"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-webtrans-http3-09</span>, <time datetime="2024-03-04" class="refDate">4 March 2024</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-webtrans-http3-09">https://datatracker.ietf.org/doc/html/draft-ietf-webtrans-http3-09</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec-informative-references">
<section id="section-10.2">
        <h3 id="name-informative-references">
<a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-webtrans-overview">[I-D.ietf-webtrans-overview]</dt>
        <dd>
<span class="refAuthor">Vasiliev, V.</span>, <span class="refTitle">"The WebTransport Protocol Framework"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-webtrans-overview-07</span>, <time datetime="2024-03-04" class="refDate">4 March 2024</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-webtrans-overview-07">https://datatracker.ietf.org/doc/html/draft-ietf-webtrans-overview-07</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9000">[RFC9000]</dt>
      <dd>
<span class="refAuthor">Iyengar, J., Ed.</span> and <span class="refAuthor">M. Thomson, Ed.</span>, <span class="refTitle">"QUIC: A UDP-Based Multiplexed and Secure Transport"</span>, <span class="seriesInfo">RFC 9000</span>, <span class="seriesInfo">DOI 10.17487/RFC9000</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9000">https://www.rfc-editor.org/rfc/rfc9000</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Luke Curley</span></div>
<div dir="auto" class="left"><span class="org">Discord</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:kixelated@gmail.com" class="email">kixelated@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Kirill Pugin</span></div>
<div dir="auto" class="left"><span class="org">Meta</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:ikir@meta.com" class="email">ikir@meta.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Suhas Nandakumar</span></div>
<div dir="auto" class="left"><span class="org">Cisco</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:snandaku@cisco.com" class="email">snandaku@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Victor Vasiliev</span></div>
<div dir="auto" class="left"><span class="org">Google</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:vasilvv@google.com" class="email">vasilvv@google.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Ian Swett (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Google</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:ianswett@google.com" class="email">ianswett@google.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
